/*!
 * Zen.js v2.3.0
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";var l=Array.isArray,i=Object.defineProperty;function f(t){return null!==t&&"object"==typeof t}var t=Object.prototype,c=t.toString,e=Object.getPrototypeOf,u=Object.hasOwnProperty;function a(t){return"function"==typeof t}var o=u.toString,s=o.call(Object);function d(t){if(!t||"[object Object]"!==c.call(t))return!1;var n=e(t);if(!n)return!0;var r=u.call(n,"constructor")&&n.constructor;return a(r)&&o.call(r)===s}var h=Object.create;function v(t){return"boolean"==typeof t}function p(){var t,n,r,e,u,i,f=1,o=arguments.length,c=arguments[0]||{},a=!1;for(v(c)&&(a=c,c=arguments[f]||{},f++);f<o;f++)if(null!=(t=arguments[f]))for(n in t)(e=t[n])!==c&&(r=c[n],!a&&e&&(d(e)||(u=l(e)))?(u?(u=!1,i=r&&l(r)?r:[]):i=r&&d(r)?r:!0===this?h(null):{},c[n]=p(i,e)):void 0!==e&&(c[n]=e));return c}function g(n,r,e,u){var t;if(null!=n)if(l(n)&&n instanceof Array)n.forEach(function(t){return g(t,r,e,u)});else if(f(r))for(t in r)g(n,t,r[t],e);else r.split(" ").forEach(function(t){i(n,t,p(!0,{},e,u))})}var $={configurable:!0,enumerable:!1,writable:!0},y={configurable:!0,enumerable:!1};function b(t,n,r,e){var u;if(f(n)){for(u in n)b(t,u,n[u],e);return n}return g(t,n,{value:r},e||$),r}var n=Array.prototype;function m(t,n,r){var e;return t.length>n&&void 0!==(e=t[n])?e:r}var j=n.slice;function w(t){return"string"==typeof t}var r=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,O=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function E(t){return t?w(t)?r.test(t)?t.match(O)||[]:t.split(""):j.call(t):[]}function S(t){var n=m(arguments,1,0),r=t.length;return n<r?E(t).$get(n,r):[]}function A(t,n,r){return n<0&&(n=t.length+n+(r||0))<0&&(n=0),n}function M(t,n,r){var e=r.length;n=A(t,n,1);for(var u=0;u<e;u++)t.splice(n++,0,r[u]);return t}function P(t,n){var r=0,e=Array(t>>=0);if(a(n))for(;r<t;r++)e[r]=n(r);else for(;r<t;r++)e[r]=n;return e}b(Array,"$toArray",E),b(n,"$add",function(t){return M(this,t,S(arguments,1))}),b(Array,"$create",P);var C=Math.ceil;function R(r,e){var t;return!r||e<1||!(t=r.length)?[]:P(C(t/e),function(t){var n=t*e;return r.slice(n,n+e)})}function _(t,n){return t===n}function x(t,n){return t==n}function N(t){var n=typeof t;return"object"!==n&&"function"!==n}function I(t){return"number"==typeof t}b(Array,"$chunk",R),b(n,"$concat",function(){var n=this;return E(arguments).forEach(function(t){M(n,-1,l(t)?t:[t])}),this}),b(n,"$concatTo",function(n){var r=this,t=S(arguments,1);if(!t.length)return this;var e=this.length,u=0;return n=A(this,n,1),t.forEach(function(t){M(r,u+n,l(t)?t:[t]),u=r.length-e}),this}),b(Array,"$copy",function(t,n){return n?n.concat(t):t.slice()}),b(n,"$delete $remove",function(t,n,r){var e=m(arguments,1,1),u=this.splice(t,e);return r?u:this}),b(n,"$deleteValue $removeValue",function(t){for(var n=m(arguments,1,!0)?_:x,r=0,e=this.length;r<e;)n(this[r],t)?(this.$delete(r),e--):r++;return this}),b(n,"$each",function(t){for(var n,r=0,e=this.length;r<e&&(n=this[r],!1!==t.call(n,n,r,this));r++);return this}),b(n,"$equals",function(t){if(!t)return!1;var n=0,r=this.length;if(r!==t.length)return!1;for(var e=m(arguments,1,!0)?_:x;n<r;n++)if(!e(this[n],t[n]))return!1;return!0});var L=9007199254740991;function U(t){if(null!=t&&!a(t)){var n=t.length;if(I(n)&&-1<n&&n%1==0&&n<=L)return!0}return!1}b(Array,"$isArrayLike",U);var k=Object.keys,V=JSON.stringify;function q(t,n,r){var e,u,i,f,o;if(t===n)return!0;if(!t||r&&r===t)return!1;if(c.call(t)!==c.call(n))return!1;if(N(t))return!1;if(d(t)||(f=l(t)))if(f){if(t.length!==n.length)return!1;for(e=0,u=t.length;e<u;e++)if(!q(t[e],n[e],t))return!1}else{if(k(t).length!==k(n).length)return!1;for(i in t)if(!q(t[i],n[i],t))return!1}else if(a(t.toString)&&"[object "===!(o=t.toString()).substr(0,8)){if(n.toString()!==o)return!1}else try{if(V(t)!==V(n))return!1}catch(t){return!1}return!0}function F(t,n,r){var e;if(null==n||!(e=t.length))return-1;N(n)&&(n=E(r)),U(n)&&(n=R(n,2));for(var u=function(n){if(a(n))return n;var r=l(n);return function(t){return!(null==t||!k(t).length)&&(r?function(t,n){for(var r,e,u=0,i=t.length;u<i;u++)if(r=t[u],!((e=r[0])in n)||1!==r.length&&!q(r[1],n[e]))return!1;return!0}:function(t,n){var r;for(r in t)if(!(r in n&&q(t[r],n[r])))return!1;return!0})(n,t)}}(n),i=0;i<e;i++)if(u(t[i]))return i;return-1}function T(t,n,r){n=A(t,n),t.splice(n,1,r)}b(Object,"$equals",q),b(n,"$findIndex",function(t){return F(this,t,arguments)}),b(n,"$find",function(t){var n=F(this,t,arguments);return-1===n?null:this[n]}),b(n,"$get",function(){var t=A(this,m(arguments,0,0));if(arguments.length<=1)return this[t];var n=m(arguments,1,1);return this.slice(t,n+t)}),b(n,"$inArray",function(t){for(var n=0,r=this.length;n<r;n++)if(this[n]==t)return!0;return!1}),b(n,"$move",function(t,n){return this.splice(n<0?this.length+n:n,0,this.splice(t,1)[0]),this}),b(n,"$moveRange",function(t,n,r){return M(this,r,this.splice(t,n))}),"push_unshift_pop_shift".split("_").forEach(function(t){b(n,"$"+t,function(){return this[t].apply(this,arguments),this})}),b(n,"$set $edit",function(t,n){var r;if("object"==typeof t)for(r in t)T(this,r,t[r]);else T(this,t,n);return this});var B="undefined"!=typeof window;B&&b(document,"$id",document.getElementById);var D="addEventListener";function J(t){return((""+t).split(".")[1]||"").length}B&&b(document,"$ready",function(r,e){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return r.apply(window,e);this[D]("DOMContentLoaded",function t(n){this.removeEventListener(n.type,t),r.apply(window,e)})});var Z=Math.pow,z=Math.max;function G(t){return t}function H(t,n){return t+n}function K(t,n,r,e){var u=J(t=t||0),i=J(n=n||0),f=z(u,i),o=f?Z(10,f):1;return f&&(t=W(t,u,f),n=W(n,i,f)),(e||G)(r(t,n)/o,o)}function Q(t,n,r){var e=j.call(t).map(function(t){return t||0}),u=e.map(function(t){return J(t)}),i=z.apply(null,u),f=i?Z(10,i):1;return i&&(e=e.map(function(t,n){return W(t,u[n],i)})),(r||G)(e.reduce(n)/f,f,e)}function W(t,n,r){return t=(""+t).replace(".",""),n!==r&&(t+="0".repeat(r-n)),Number(t)}function X(t,n){return K(t,n,Y,tt)}function Y(t,n){return t*n}function tt(t,n,r){return t/nt(n,r)}function nt(t,n){return n?Z(t,n.length-1):t}function rt(t,n){return t/n}function et(t,n,r){var e=nt(n,r);return 0<J(t)?X(t,e):t*e}function ut(t,n){return t-n}b(Math,{"$add $jia":function(t,n){return K(t,n,H)},"$addPlus $jiaPlus":function(){return Q(arguments,H)}}),b(Math,{"$multiply $cheng":X,"$multiplyPlus $chengPlus":function(){return Q(arguments,Y,tt)}}),b(Math,{"$divide $chu":function(t,n){return K(t,n,rt,et)},"$dividePlus $chuPlus":function(){return Q(arguments,rt,et)}}),b(Math,"$mean",function(){return E(arguments).reduce(function(t,n){return t+n})/arguments.length}),b(Math,{"$minus $jian":function(t,n){return K(t,n,ut)},"$minusPlus $jianPlus":function(){return Q(arguments,ut)}});var it=Math.random,ft=Math.floor,ot=Math.abs;function ct(){var t=at(arguments);return lt(t[0],t[1])}function at(t){var n=m(t,0,9),r=m(t,1,0);return r<n?[r,n]:[n,r]}function lt(t,n){return ft(it()*(n-t+1)+t)}function st(t){var n=S(arguments,1);return v(t)||!t?t=!!t:(n.unshift(t),t=!1),n.unshift(t?h(null):{}),p.apply(t,n)}function dt(t,n,r,e){var u;if(f(n)){for(u in n)dt(t,u,n[u],e);return n}return g(t,n,{get:r},e||y),r}function ht(){return this}b(Math,{$random:ct,$randomPlus:function(){var t=at(arguments),n=t[0],r=t[1];return 0<n?lt(n,r):r<(t=lt(0,r+ot(n)))?r-t:t}}),b(Number,"$isNumber",function(t){return!(!I(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),b(Object,"$assign",p),b(Object,"$create",st),b(t,"$delete $remove",function(){var n=this;return E(arguments).$each(function(t){delete n[t]}),this}),b(t,"$deleteValue $removeValue",function(t){var n,r=m(arguments,1,!0)?_:x;for(n in this)r(this[n],t)&&delete this[n];return this}),b(Object,"$each",function(t,n){if(null==t)return t;var r,e;for(r in t)if(e=t[r],!1===n.call(e,r,e,t))break;return t}),b(t,"$get",function(t){return this[t]}),b(Object,"$isEmptyObject",function(t){for(var n in t)return!1;return!0}),b(Object,"$isPlainObject",d),b(t,"$self",ht),dt(t,"__self__",ht),b(t,"$set $edit",function(t,n){var r;if(f(t))for(r in t)this[r]=t[r];else this[t]=n;return this});var vt=String.fromCharCode;function pt(){var t=m(arguments,0,!1);return vt(t?ct(65,90):ct(97,122))}function gt(t){return"[object RegExp]"===c.call(t)}b(String,"$random",pt);var $t=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,yt=String.prototype;b(yt,"$replaceAll",function(t,n){var r="g";if(gt(t)){if(t.global)return this.replace(t,n);r+=t.flags||"",t=t.source}else t=t.replace($t,"\\$1");return this.replace(new RegExp(t,r),n)}),b(String,"$someRandom",function(){for(var t="",n=m(arguments,0,12),r=m(arguments,1,!1),e=m(arguments,2,!1);0<n--;)t+=pt();return r&&(t=t.split("").map(function(t){return ct(1)?t.toUpperCase():t}).join("")),e&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return ct(1)?ct():t}).join("")),t}),b(yt,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var bt="undefined"!=typeof global,mt=B?window:bt?global:void 0,jt=/\+/g;function wt(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}b(mt,"$querystring",{stringify:function(n){var t=m(arguments,1,"&"),r=m(arguments,2,"=");return f(n)?Object.keys(n).map(function(t){return encodeURIComponent(wt(t))+r+encodeURIComponent(wt(n[t]))}).join(t):""},parse:function(t){var n=m(arguments,1,"&"),r=m(arguments,2,"="),e={};if(!w(t))return e;for(var u,i,f,o,c=0,a=t.split(n),l=a.length;c<l;c++)-1<(o=(f=a[c].replace(jt,"%20")).indexOf(r))?(u=f.substr(0,o),i=f.substr(o+1)):u=f,u=decodeURIComponent(u),i=decodeURIComponent(i),e[u]=i;return e}}),B&&b(window,"$ready",function(r,e){var u=this||window;if("complete"===u.document.readyState)return r.apply(u,e);u[D]("load",function t(n){u.removeEventListener(n.type,t),r.apply(u,e)})}),b(mt,"$typeof",function(t){var n;return null==t?t+"":"object"==(n=typeof t)&&l(t)?"array":n});var Ot=st(!0,{version:"2.3.0"});B&&(window.Zen=window.ZenJS=Ot);var Et=1;i(Ot,"guid",{get:function(){return Et++}});var St=!1;try{var At=i({},"passive",{get:function(){St=!0}});window[D]("test",null,At)}catch(t){}var Mt=B&&"EventTarget"in window;Ot.util=st(!0,{isEquals:x,isCongruence:_,isArray:l,isBoolean:v,isFunction:a,isNumber:I,isObject:f,isRegExp:gt,isString:w,parametersDefault:m,parametersRest:S,define:g,defineGet:dt,defineValue:b,returnTrue:function(){return!0},returnFalse:function(){return!1},supports:{passiveEvent:St,EventTarget:Mt}})});