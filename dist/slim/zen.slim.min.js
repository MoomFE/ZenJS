/*!
 * Zen.js v2.2.0-bata
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r():"function"==typeof define&&define.amd?define(r):r()}(0,function(){"use strict";var s=Array.isArray,i=Object.defineProperty;function f(t){return null!==t&&"object"==typeof t}var t=Object.prototype,a=t.toString,e=Object.getPrototypeOf,u=Object.hasOwnProperty;function c(t){return"function"==typeof t}var o=u.toString,l=o.call(Object);function d(t){if(!t||"[object Object]"!==a.call(t))return!1;var r=e(t);if(!r)return!0;var n=u.call(r,"constructor")&&r.constructor;return c(n)&&o.call(n)===l}var h=Object.create;function v(t){return"boolean"==typeof t}function p(){var t,r,n,e,u,i,f=1,o=arguments.length,a=arguments[0]||{},c=!1;for(v(a)&&(c=a,a=arguments[f]||{},f++);f<o;f++)if(null!=(t=arguments[f]))for(r in t)(e=t[r])!==a&&(n=a[r],!c&&e&&(d(e)||(u=s(e)))?(u?(u=!1,i=n&&s(n)?n:[]):i=n&&d(n)?n:!0===this?h(null):{},a[r]=p(i,e)):void 0!==e&&(a[r]=e));return a}function g(r,n,e,u){var t;if(null!=r)if(s(r)&&r instanceof Array)r.forEach(function(t){return g(t,n,e,u)});else if(f(n))for(t in n)g(r,t,n[t],e);else n.split(" ").forEach(function(t){i(r,t,p(!0,{},e,u))})}var y={configurable:!0,enumerable:!1,writable:!0},b={configurable:!0,enumerable:!1};function $(t,r,n,e){var u;if(f(r)){for(u in r)$(t,u,r[u],e);return r}return g(t,r,{value:n},e||y),n}var r=Array.prototype;function m(t,r,n){var e;return t.length>r&&void 0!==(e=t[r])?e:n}var n=r.slice;function j(t){return"string"==typeof t}var w=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,O=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function E(t){return t?j(t)?w.test(t)?t.match(O)||[]:t.split(""):n.call(t):[]}function S(t){var r=m(arguments,1,0),n=t.length;return r<n?E(t).$get(r,n):[]}function A(t,r,n){var e=n.length;r<0&&(r=t.length+r+1);for(var u=0;u<e;u++)t.splice(r++,0,n[u]);return t}function C(t,r){var n=0,e=Array(t>>=0);if(c(r))for(;n<t;n++)e[n]=r(n);else for(;n<t;n++)e[n]=r;return e}$(Array,"$toArray",E),$(r,"$add",function(t){return A(this,t,S(arguments,1))}),$(Array,"$create",C);var R=Math.ceil;function M(n,e){var t;return!n||e<1||!(t=n.length)?[]:C(R(t/e),function(t){var r=t*e;return n.slice(r,r+e)})}function _(t,r){return t===r}function x(t,r){return t==r}function L(t){var r=typeof t;return"object"!==r&&"function"!==r}function N(t){return"number"==typeof t}$(Array,"$chunk",M),$(r,"$concat",function(){var r=this;return E(arguments).forEach(function(t){A(r,-1,s(t)?t:[t])}),this}),$(Array,"$copy",function(t,r){return r?r.concat(t):t.concat()}),$(r,"$delete $remove",function(t){var r=m(arguments,1,1);return this.splice(t,r),this}),$(r,"$deleteValue $removeValue",function(t){for(var r=m(arguments,1,!0)?_:x,n=0,e=this.length;n<e;)r(this[n],t)?(this.$delete(n),e--):n++;return this}),$(r,"$each",function(t){for(var r,n=0,e=this.length;n<e&&(r=this[n],!1!==t.call(r,r,n,this));n++);return this}),$(r,"$equals",function(t){if(!t)return!1;var r=0,n=this.length;if(n!==t.length)return!1;for(var e=m(arguments,1,!0)?_:x;r<n;r++)if(!e(this[r],t[r]))return!1;return!0}),$(r,"$get",function(){var t=m(arguments,0,0),r=arguments[1];return null==r?this[t]:this.slice(t,r+t)}),$(r,"$inArray",function(t){for(var r=0,n=this.length;r<n;r++)if(this[r]==t)return!0;return!1});function U(t){if(null!=t&&!c(t)){var r=t.length;if(N(r)&&-1<r&&r%1==0&&r<=9007199254740991)return!0}return!1}$(Array,"$isArrayLike",U);var k=Object.keys,P=JSON.stringify;function V(t,r,n){var e,u,i,f,o;if(t===r)return!0;if(!t||n&&n===t)return!1;if(a.call(t)!==a.call(r))return!1;if(L(t))return!1;if(d(t)||(f=s(t)))if(f){if(t.length!==r.length)return!1;for(e=0,u=t.length;e<u;e++)if(!V(t[e],r[e],t))return!1}else{if(k(t).length!==k(r).length)return!1;for(i in t)if(!V(t[i],r[i],t))return!1}else if(c(t.toString)&&"[object "===!(o=t.toString()).substr(0,8)){if(r.toString()!==o)return!1}else try{if(P(t)!==P(r))return!1}catch(t){return!1}return!0}$(Object,"$equals",V),$(r,"$indexOf",function(t,r){var n;if(null==t||!(n=this.length))return-1;L(t)&&(t=E(arguments)),U(t)&&(t=M(t,2));for(var e=function(r){if(c(r))return r;var n=s(r);return function(t){return!(null==t||!k(t).length)&&(n?function(t,r){for(var n,e,u=0,i=t.length;u<i;u++)if(n=t[u],!((e=n[0])in r)||1!==n.length&&!V(n[1],r[e]))return!1;return!0}:function(t,r){var n;for(n in t)if(!(n in r&&V(t[n],r[n])))return!1;return!0})(r,t)}}(t),u=0;u<n;u++)if(e(this[u]))return u;return-1}),"push_unshift_pop_shift".split("_").forEach(function(t){$(r,"$"+t,function(){return this[t].apply(this,arguments),this})});var q="addEventListener",F="undefined"!=typeof window;F&&$(document,"$ready",function(n,e){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return n.apply(window,e);this[q]("DOMContentLoaded",function t(r){this.removeEventListener(r.type,t),n.apply(window,e)})}),$(Math,"$mean",function(){return E(arguments).reduce(function(t,r){return t+r})/arguments.length});var I=Math.random,T=Math.floor;function D(t){var r=m(t,0,9),n=m(t,1,0);return n<r?[n,r]:[r,n]}function J(t,r){return T(I()*(r-t+1)+t)}function Z(){var t=D(arguments);return J(t[0],t[1])}$(Math,"$random",Z);var z=Math.abs;function B(t){var r=S(arguments,1);return v(t)||!t?t=!!t:(r.unshift(t),t=!1),r.unshift(t?h(null):{}),p.apply(t,r)}function G(t,r,n,e){var u;if(f(r)){for(u in r)G(t,u,r[u],e);return r}return g(t,r,{get:n},e||b),n}function H(){return this}$(Math,"$randomPlus",function(){var t=D(arguments),r=t[0],n=t[1];return 0<r?J(r,n):n<(t=J(0,n+z(r)))?n-t:t}),$(Number,"$isNumber",function(t){return!(!N(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),$(Object,"$assign",p),$(Object,"$create",B),$(t,"$delete $remove",function(){var r=this;return E(arguments).$each(function(t){delete r[t]}),this}),$(t,"$deleteValue $removeValue",function(t){var r,n=m(arguments,1,!0)?_:x;for(r in this)n(this[r],t)&&delete this[r];return this}),$(Object,"$each",function(t,r){if(null==t)return t;var n,e;for(n in t)if(e=t[n],!1===r.call(e,n,e,t))break;return t}),$(t,"$get",function(t){return this[t]}),$(Object,"$isEmptyObject",function(t){for(var r in t)return!1;return!0}),$(Object,"$isPlainObject",d),$(t,"$self",H),G(t,"__self__",H),$(t,"$set",function(t,r){var n;if(f(t))for(n in t)this[n]=t[n];else this[t]=r;return this});var K=String.fromCharCode;function Q(){var t=m(arguments,0,!1);return K(t?Z(65,90):Z(97,122))}function W(t){return"[object RegExp]"===a.call(t)}$(String,"$random",Q);var X=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,Y=String.prototype;$(Y,"$replaceAll",function(t,r){var n="g";if(W(t)){if(t.global)return this.replace(t,r);n+=t.flags||"",t=t.source}else t=t.replace(X,"\\$1");return this.replace(new RegExp(t,n),r)}),$(String,"$someRandom",function(){for(var t="",r=m(arguments,0,12),n=m(arguments,1,!1),e=m(arguments,2,!1);0<r--;)t+=Q();return n&&(t=t.split("").map(function(t){return Z(1)?t.toUpperCase():t}).join("")),e&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return Z(1)?Z():t}).join("")),t}),$(Y,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var tt=/\+/g;function rt(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}F&&$(window,"$querystring",{stringify:function(r){var t=m(arguments,1,"&"),n=m(arguments,2,"=");return f(r)?Object.keys(r).map(function(t){return encodeURIComponent(rt(t))+n+encodeURIComponent(rt(r[t]))}).join(t):""},parse:function(t){var r=m(arguments,1,"&"),n=m(arguments,2,"="),e={};if(!j(t))return e;for(var u,i,f,o,a=0,c=t.split(r),s=c.length;a<s;a++)-1<(o=(f=c[a].replace(tt,"%20")).indexOf(n))?(u=f.substr(0,o),i=f.substr(o+1)):u=f,u=decodeURIComponent(u),i=decodeURIComponent(i),e[u]=i;return e}}),F&&$(window,"$ready",function(n,e){var u=this||window;if("complete"===u.document.readyState)return n.apply(u,e);u[q]("load",function t(r){u.removeEventListener(r.type,t),n.apply(u,e)})}),F&&$(window,"$typeof",function(t){var r;return null==t?t+"":"object"==(r=typeof t)&&s(t)?"array":r});var nt=B(!0,{version:"2.2.0-bata"});F&&(window.Zen=window.ZenJS=nt);var et=1;i(nt,"guid",{get:function(){return et++}});var ut=!1;try{var it=i({},"passive",{get:function(){ut=!0}});window[q]("test",null,it)}catch(t){}var ft=F&&"EventTarget"in window;nt.util=B(!0,{isEquals:x,isCongruence:_,isArray:s,isBoolean:v,isFunction:c,isNumber:N,isObject:f,isRegExp:W,isString:j,parametersDefault:m,parametersRest:S,define:g,defineGet:G,defineValue:$,returnTrue:function(){return!0},returnFalse:function(){return!1},supports:{passiveEvent:ut,EventTarget:ft}})});