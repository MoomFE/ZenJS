/*!
 * Zen.js v3.0.0
 * https://github.com/MoomFE/ZenJS
 * 
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r():"function"==typeof define&&define.amd?define(r):r()}(0,function(){"use strict";var l=Array.isArray,f=Object.defineProperty;function i(t){return null!==t&&"object"==typeof t}var t=Object.prototype,c=t.toString,e=Object.getPrototypeOf,u=Object.hasOwnProperty;function a(t){return"function"==typeof t}var o=u.toString,s=o.call(Object);function h(t){if(!t||"[object Object]"!==c.call(t))return!1;var r=e(t);if(!r)return!0;var n=u.call(r,"constructor")&&r.constructor;return a(n)&&o.call(n)===s}var d=Object.create;function v(t){return"boolean"==typeof t}function p(){var t,r,n,e,u,f,i=1,o=arguments.length,c=arguments[0]||{},a=!1;for(v(c)&&(a=c,c=arguments[i]||{},i++);i<o;i++)if(null!=(t=arguments[i]))for(r in t)(e=t[r])!==c&&(n=c[r],!a&&e&&(h(e)||(u=l(e)))?(u?(u=!1,f=n&&l(n)?n:[]):f=n&&h(n)?n:!0===this?d(null):{},c[r]=p(f,e)):void 0!==e&&(c[r]=e));return c}function $(r,n,e,u){var t;if(null!=r)if(l(r)&&r instanceof Array)r.forEach(function(t){return $(t,n,e,u)});else if(i(n))for(t in n)$(r,t,n[t],e);else n.split(" ").forEach(function(t){f(r,t,p(!0,{},e,u))})}var g={configurable:!0,enumerable:!1,writable:!0},b={configurable:!0,enumerable:!1};function y(t,r,n,e){var u;if(i(r)){for(u in r)y(t,u,r[u],e);return r}return $(t,r,{value:n},e||g),n}var r=Array.prototype;function m(t,r,n){var e;return t.length>r&&void 0!==(e=t[r])?e:n}var n=r.slice;var j=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,O=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function A(t){return t?"string"==typeof t?j.test(t)?t.match(O)||[]:t.split(""):n.call(t):[]}function M(t){var r=m(arguments,1,0),n=t.length;return r<n?A(t).$get(r,n):[]}function S(t,r,n){return r<0&&(r=t.length+r+(n||0))<0&&(r=0),r}function E(t,r,n){var e=n.length;r=S(t,r,1);for(var u=0;u<e;u++)t.splice(r++,0,n[u]);return t}function _(t,r){var n=0,e=Array(t>>=0);if(a(r))for(;n<t;n++)e[n]=r(n);else for(;n<t;n++)e[n]=r;return e}y(Array,"$toArray",A),y(r,"$add",function(t){return E(this,t,M(arguments,1))}),y(Array,"$create",_);var C=Math.ceil;function N(n,e){var t;return!n||e<1||!(t=n.length)?[]:_(C(t/e),function(t){var r=t*e;return n.slice(r,r+e)})}function w(t,r){return t===r}function x(t,r){return t==r}function P(t){var r=typeof t;return"object"===r||"function"===r}function k(t){return"number"==typeof t}y(Array,"$chunk",N),y(r,"$concat",function(){var r=this;return A(arguments).forEach(function(t){E(r,-1,l(t)?t:[t])}),this}),y(r,"$concatTo",function(r){var n=this,t=M(arguments,1);if(!t.length)return this;var e=this.length,u=0;return r=S(this,r,1),t.forEach(function(t){E(n,u+r,l(t)?t:[t]),u=n.length-e}),this}),y(Array,"$copy",function(t,r){return r?r.concat(t):t.slice()}),y(r,"$delete $remove",function(t,r,n){var e=m(arguments,1,1),u=this.splice(t,e);return n?u:this}),y(r,"$deleteValue $removeValue",function(t){for(var r=m(arguments,1,!0)?w:x,n=0,e=this.length;n<e;)r(this[n],t)?(this.$delete(n),e--):n++;return this}),y(r,"$each",function(t){for(var r,n=0,e=this.length;n<e&&(r=this[n],!1!==t.call(r,r,n,this));n++);return this}),y(r,"$equals",function(t){if(!t)return!1;var r=0,n=this.length;if(n!==t.length)return!1;for(var e=m(arguments,1,!0)?w:x;r<n;r++)if(!e(this[r],t[r]))return!1;return!0});var R=9007199254740991;function V(t){if(null!=t&&!a(t)){var r=t.length;if(k(r)&&-1<r&&r%1==0&&r<=R)return!0}return!1}y(Array,"$isArrayLike",V);var q=Object.keys,L=JSON.stringify;function U(t,r,n){var e,u,f,i,o;if(t===r)return!0;if(!t||n&&n===t)return!1;if(c.call(t)!==c.call(r))return!1;if(!P(t))return!1;if(h(t)||(i=l(t)))if(i){if(t.length!==r.length)return!1;for(e=0,u=t.length;e<u;e++)if(!U(t[e],r[e],t))return!1}else{if(q(t).length!==q(r).length)return!1;for(f in t)if(!U(t[f],r[f],t))return!1}else if(a(t.toString)&&"[object "===!(o=t.toString()).substr(0,8)){if(r.toString()!==o)return!1}else try{if(L(t)!==L(r))return!1}catch(t){return!1}return!0}function z(t,r,n){var e;if(null==r||!(e=t.length))return-1;P(r)||(r=A(n)),V(r)&&(r=N(r,2));for(var u=function(r){if(a(r))return r;var n=l(r);return function(t){return!(null==t||!q(t).length)&&(n?function(t,r){for(var n,e,u=0,f=t.length;u<f;u++)if(n=t[u],!((e=n[0])in r)||1!==n.length&&!U(n[1],r[e]))return!1;return!0}:function(t,r){var n;for(n in t)if(!(n in r&&U(t[n],r[n])))return!1;return!0})(r,t)}}(r),f=0;f<e;f++)if(u(t[f]))return f;return-1}function F(t,r,n){r=S(t,r),t.splice(r,1,n)}function I(t){return((""+t).split(".")[1]||"").length}y(Object,"$equals",U),y(r,"$findIndex",function(t){return z(this,t,arguments)}),y(r,"$find",function(t){var r=z(this,t,arguments);return-1===r?null:this[r]}),y(r,"$get",function(){var t=S(this,m(arguments,0,0));if(arguments.length<=1)return this[t];var r=m(arguments,1,1);return this.slice(t,r+t)}),y(r,"$inArray",function(t){for(var r=0,n=this.length;r<n;r++)if(this[r]==t)return!0;return!1}),y(r,"$move",function(t,r){return this.splice(r<0?this.length+r:r,0,this.splice(t,1)[0]),this}),y(r,"$moveRange",function(t,r,n){return E(this,n,this.splice(t,r))}),"push_unshift_pop_shift".split("_").forEach(function(t){y(r,"$"+t,function(){return this[t].apply(this,arguments),this})}),y(r,"$set $edit",function(t,r){var n;if("object"==typeof t)for(n in t)F(this,n,t[n]);else F(this,t,r);return this});var J=Math.pow,T=Math.max;function B(t,r){return t+r}function D(t,r,n,e){var u=I(t=t||0),f=I(r=r||0),i=T(u,f),o=i?J(10,i):1;i&&(t=G(t,u,i),r=G(r,f,i));var c=n(t,r);return e?e(c,o):c/o}function G(t,r,n){return t=(""+t).replace(".",""),r!==n&&(t+=function(t,r){for(var n="",e=0;e++<r;)n+=t;return n}("0",n-r)),Number(t)}function H(t,r){return t/r}function K(t){return t}function Q(t,r){return t-r}function W(t,r){return t*r}function X(t,r){return t/J(r,2)}y(Math,"$plus $jia",function(t,r){return D(t,r,B)}),y(Math,"$divide $chu",function(t,r){return D(t,r,H,K)}),y(Math,"$mean",function(){return A(arguments).reduce(function(t,r){return t+r})/arguments.length}),y(Math,"$minus $jian",function(t,r){return D(t,r,Q)}),y(Math,"$multiply $cheng",function(t,r){return D(t,r,W,X)});var Y=Math.random,Z=Math.floor,tt=Math.abs;function rt(){var t=nt(arguments);return et(t[0],t[1])}function nt(t){var r=m(t,0,9),n=m(t,1,0);return n<r?[n,r]:[r,n]}function et(t,r){return Z(Y()*(r-t+1)+t)}function ut(){return this}y(Math,{$random:rt,$randomPlus:function(){var t=nt(arguments),r=t[0],n=t[1];return 0<r?et(r,n):n<(t=et(0,n+tt(r)))?n-t:t}}),y(Number,"$isNumber",function(t){return!(!k(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),y(Object,"$assign",p),y(Object,"$create",function(t){var r=M(arguments,1);return v(t)||!t?t=!!t:(r.unshift(t),t=!1),r.unshift(t?d(null):{}),p.apply(t,r)}),y(t,"$delete $remove",function(){var r=this;return A(arguments).$each(function(t){delete r[t]}),this}),y(t,"$deleteValue $removeValue",function(t){var r,n=m(arguments,1,!0)?w:x;for(r in this)n(this[r],t)&&delete this[r];return this}),y(Object,"$each",function(t,r){if(null==t)return t;var n,e;for(n in t)if(e=t[n],!1===r.call(e,n,e,t))break;return t}),y(t,"$get",function(t){return this[t]}),y(Object,"$isEmptyObject",function(t){for(var r in t)return!1;return!0}),y(Object,"$isPlainObject",h),y(t,"$self",ut),function t(r,n,e,u){var f;if(i(n)){for(f in n)t(r,f,n[f],u);return n}return $(r,n,{get:e},u||b),e}(t,"__self__",ut),y(t,"$set $edit",function(t,r){var n;if(i(t))for(n in t)this[n]=t[n];else this[t]=r;return this});var ft=String.fromCharCode;function it(){var t=m(arguments,0,!1);return ft(t?rt(65,90):rt(97,122))}y(String,"$random",it);var ot=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,ct=String.prototype;y(ct,"$replaceAll",function(t,r){var n,e="g";if(n=t,"[object RegExp]"===c.call(n)){if(t.global)return this.replace(t,r);e+=t.flags||"",t=t.source}else t=t.replace(ot,"\\$1");return this.replace(new RegExp(t,e),r)}),y(String,"$someRandom",function(){for(var t="",r=m(arguments,0,12),n=m(arguments,1,!1),e=m(arguments,2,!1);0<r--;)t+=it();return n&&(t=t.split("").map(function(t){return rt(1)?t.toUpperCase():t}).join("")),e&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return rt(1)?rt():t}).join("")),t}),y(ct,"$toCapitalize",function(t){return this.substr(0,1).toUpperCase()+this.substr(1)[t?"$self":"toLowerCase"]()})});