/*!
 * Zen.js v3.0.0
 * https://github.com/MoomFE/ZenJS
 * 
 * (c) 2018 Wei Zhang
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ZenJS=e()}(this,function(){"use strict";var i=Object.defineProperty,t=String.prototype,e=Boolean.prototype,n=Array.prototype,r=Function.prototype;[["String",t],["Boolean",e],["Array",n],["Function",r]].forEach(function(t){i(t[1],"__is"+t[0]+"__",{value:!0,configurable:!1,enumerable:!1,writable:!1})});var u="__isString__",h="__isBoolean__",p="__isArray__",l="__isFunction__",d=Object.keys,g=Object.entries||function(t){for(var e,n,r=d(t),i=Array(e=r.length);e--;)i[e]=[n=r[e],t[n]];return i},a=Object.prototype,s=a.toString,o=Object.getPrototypeOf,y=Object.hasOwnProperty;function f(t){return"function"==typeof t}var c=y.toString,$=c.call(Object);function b(t){if(!t||"[object Object]"!==s.call(t))return!1;var e=o(t);if(!e)return!0;var n=y.call(e,"constructor")&&e.constructor;return f(n)&&c.call(n)===$}var m=Object.create;function S(t,e,n,r){for(var i,u,a,s,o,f,c,h,l,d=e.length,$=1,v=e[0]||(null!==e[0]?{}:(r=!0,m(null)));$<d;$++)if(null!=(i=e[$]))for(a=(u=g(i)).length,s=0;s<a;s++)if(f=(o=u[s])[0],c=o[1],!t&&c&&(b(c)||c[p])){if(c===v)continue;if(n&&n===c){if(1===a)return;continue}h=v[f],void 0!==S(!1,[l=c[p]?h&&h[p]?h:[]:h&&b(h)?h:r?m(null):{},c],i,r)&&(v[f]=l)}else void 0===c&&!1!==y.call(v,f)||(v[f]=c);return v}var v=Object.assign||function(){return S(!0,arguments)};function M(e,t,n,r){null!=e&&t.split(" ").forEach(function(t){i(e,t,v({},n,r))})}var _={configurable:!0,enumerable:!1,writable:!0},D={configurable:!0,enumerable:!1};function O(t,e,n,r){return M(t,e,{value:n},r||_),n}function j(t){return"string"==typeof t}function w(t){return"number"==typeof t&&t==t&&isFinite(t)}function A(t){return!!w(t)||j(t)&&!isNaN(t-parseFloat(t))}function k(t,e,n){if(!w(t)||t<1)return[];var r=0,i=Array(t);if(!n&&f(e))for(;r<t;r++)i[r]=e(r);else for(;r<t;r++)i[r]=e;return i}var H=Math.ceil;function E(n,r){var t;return!n||r<1||!(t=n.length)?[]:k(H(t/r),function(t){var e=t*r;return n.slice(e,e+r)})}O(Array,"$chunk",E),O(n,"$chunk",function(t){return E(this,t)});var x=Array.isArray,N=n.slice;function Y(t,e){if(!t||!t.length||!f(e))return t;for(var n,r=t.length,i=0;i<r&&(n=t[i],!1!==e.call(n,n,i,t));i++);return t}O(Array,"$copy",function(t,e){return t&&t.length?x(e)?e.concat(t):N.call(t):[]}),O(Array,"$create",k),O(Array,"$each",Y),O(n,"$each",function(t){return Y(this,t)});var F=9007199254740991;function T(t){if(null==t||t[l])return!1;if(t[p])return!0;var e=t.length;return!!(w(e)&&-1<e&&e%1==0&&e<=F)}function L(t,e,n){var r;return t.length>e&&void 0!==(r=t[e])?r:n}function U(t,e){return t==e}function W(t,e){return t===e}function J(t){return f(t)?t:t?W:U}function Z(t,e,n,r){return 1<t.length?r=J(L(t,n,!0)):f(e)?(r=e,e=void 0):r=W,[e,r]}function I(t,e){if(!T(t)||!T(e))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=J(L(arguments,2,!0)),i=0;i<n;i++)if(!r(t[i],e[i]))return!1;return!0}O(Array,"$equals",I),O(n,"$equals",function(t,e){return I(this,t,e)}),O(Array,"$isArrayLike",T);var R=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,q=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function C(t){return f(Map)&&t instanceof Map}function V(t){return f(Set)&&t instanceof Set}function B(t){var n=[];return t instanceof Map?t.forEach(function(t,e){return n.push([e,t])}):t.forEach(function(t){return n.push(t)}),n}function P(t){var e=L(arguments,1,0),n=t.length;return e<n?N.call(t,e,n):[]}function z(t,e,n){return(!A(e)||e<0&&(e=t.length+Number(e)+(n||0))<0)&&(e=0),e}function G(t,e,n){var r=n.length;if(!r)return t;e=z(t,e,1);for(var i=0;i<r;i++)t.splice(e++,0,n[i]);return t}function K(t,e,n,r){var i;if(null==e||!(i=t.length))return-1;var u,a,s,o,f=e[l];f||e[h]?f&&1===r.length?u=e:(r=P(r,1),f||(e=e?W:U)):(n=r[0],e=W),u||("object"!=typeof n&&(n=N.call(r)),T(n)&&(n=E(n,2)),s=e,o=(a=n)[p],u=function(t){return!(null==t||!d(t).length)&&(o?function(t,e,n){for(var r,i,u=t.length,a=0;a<u;a++)if(r=t[a],!((i=r[0])in e)||1!==r.length&&!n(r[1],e[i]))return!1;return!0}:function(t,e,n){for(var r,i=d(t),u=i.length,a=0;a<u;a++)if(!((r=i[a])in e&&n(t[r],e[r])))return!1;return!0})(a,t,s)});for(var c=0;c<i;c++)if(u(t[c]))return c;return-1}function Q(t){return null!==t&&"object"==typeof t}function X(t,e,n){var r=t.length;(e=z(t,e))>=r&&(e=r-1),t.splice(e,1,n)}function tt(t){return"boolean"==typeof t}O(Array,"$toArray",function(t){return!t||t[h]?[]:t[u]?R.test(t)?t.match(q)||[]:t.split(""):T(t)?N.call(t):C(t)||V(t)?B(t):[]}),O(n,"$add",function(t){return G(this,t,P(arguments,1))}),O(n,"$delete $remove",function(t,e,n){var r=this.length;(t=z(this,t))>=r&&(t=r-1);var i=L(arguments,1,1),u=this.splice(t,i);return n?u:this}),O(n,"$deleteValue $removeValue",function(t){var e,n=this.length;if(!n)return this;var r=Z(arguments,t,1),i=r[0],u=r[1];for(e=0;e<n;)u(this[e],i)?(this.$delete(e),n--):e++;return this}),O(n,"$concat",function(){var e=this;return N.call(arguments).forEach(function(t){G(e,-1,x(t)?t:[t])}),this}),O(n,"$concatTo",function(e){var n=this,t=P(arguments,1);if(!t.length)return this;var r=this.length,i=0;return e=z(this,e,1),t.forEach(function(t){G(n,i+e,x(t)?t:[t]),i=n.length-r}),this}),O(n,"$findIndex",function(t,e){return K(this,t,e,arguments)}),O(n,"$find",function(t,e){var n=K(this,t,e,arguments);return-1===n?null:this[n]}),O(n,"$get",function(){var t=arguments,e=z(this,L(t,0,0));if(t.length<=1)return this[e];var n=L(t,1,1);return this.slice(e,n+e)}),O(n,"$set $edit",function(t,e){var n=this;return Q(t)?g(t).forEach(function(t){return X(n,t[0],t[1])}):X(this,t,e),this}),O(n,"$inArray",function(t){var e,n=this.length;if(!n)return!1;var r=Z(arguments,t,1),i=r[0],u=r[1];for(e=0;e<n;e++)if(u(this[e],i))return!0;return!1}),O(n,"$move",function(t,e){return this.splice(z(this,e),0,this.splice(t,1)[0]),this}),O(n,"$moveRange",function(t,e,n){return G(this,z(this,n),this.splice(t,e))}),["push","pop","unshift","shift"].forEach(function(t){O(n,"$"+t,function(){return this[t].apply(this,arguments),this})}),O(Object,"$assign",function(t){return tt(t)?S(t,P(arguments,1)):S(!1,arguments)}),O(a,"$assign",function(t){return tt(t)?S(t,[this].concat(P(arguments,1))):S(!1,[this].concat(N.call(arguments)))});var et="undefined"!=typeof window,nt=et?window.Element:void 0,rt=/^\[object\s([^\]]+)]$/;function it(t){var e=typeof t;return"object"===e||"function"===e}function ut(t,e,n,r){if(t===e)return!0;if(!t||!e)return t!=t&&e!=e;var i=s.call(t);if(i!==s.call(e))return!1;if(!it(t))return!1;if(t.constructor!==e.constructor)return!1;if(T(t))return at.array(t,e,n,r);if(b(t))return at.object(t,e,n,r);var u=i.match(rt)[1].toLowerCase();return u in at?at[u](t,e,n,r):nt&&t instanceof nt?at.element(t,e):C(t)||V(t)?ut(B(t),B(e)):at.object(t,e,n,r)}var at={array:function(t,e,n,r){var i,u=t.length;if(u!==e.length)return!1;for(i=0;i<u;i++)switch(st(t[i],e[i],n,r,t,e)){case 0:return!1;case 1:continue}return!0},object:function(t,e,n,r){var i,u,a=d(t),s=a.length;if(s!==d(e).length)return!1;for(i=0;i<s;i++)switch(st(t[u=a[i]],e[u],n,r,t,e)){case 0:return!1;case 1:continue}return!0},element:function(t,e){return t.innerHTML===e.innerHTML},regexp:function(t,e){return t.toString()===e.toString()},date:function(t,e){return+t==+e},function:function(t,e){return t.toString()===e.toString()}};function st(t,e,n,r,i,u){return!n||n!==t&&r!==e?ut(t,e,i,u)?void 0:0:n===t?r===e?1:0:n===t?1:0}function ot(t,e){if(null==t)return t;for(var n,r,i=d(t),u=i.length,a=0;a<u&&(r=t[n=i[a]],!1!==e.call(r,n,r,t));a++);return t}O(Object,"$equals",function(t,e){return ut(t,e)}),O(a,"$equals",function(t){return ut(this,t)}),O(Object,"$each",ot),O(a,"$each",function(t){return ot(this,t)}),O(Object,"$isEmptyObject",function(t){for(var e in t)return!1;return!0}),O(Object,"$isPlainObject",b),O(a,"$get",function(t){var e=this;if(arguments.length<2)return this[t];var n={};return N.call(arguments).forEach(function(t){n[t]=e[t]}),n}),O(a,"$set $edit",function(t,e){var n=this;return Q(t)?this.$each(function(t,e){n[t]=e}):(this[t]=e,this)});var ft=n.concat;O(a,"$delete $remove",function(){var e=this;return ft.apply([],arguments).forEach(function(t){delete e[t]}),this}),O(a,"$deleteValue $removeValue",function(t){var e=this,n=Z(arguments,t,1),r=n[0],i=n[1];return g(this).forEach(function(t){i(t[1],r)&&delete e[t[0]]}),this}),O(a,"$self",function(){return this}),O(Number,"$isNumber",A);var ct=Math.floor,ht=Math.random;function lt(t,e){return ct(ht()*(e-t+1)+t)}var dt=Math.abs;O(Math,"$random",function(){var t=arguments,e=L(t,0,0),n=1!==t.length?L(t,1,9):0;if(n<e){var r=[n,e];e=r[0],n=r[1]}if(0<e)return lt(e,n);var i=lt(0,n+dt(e));return n<i?n-i:i});var $t=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g;function vt(t){return"[object RegExp]"===s.call(t)}O(t,"$replaceAll",function(t,e){var n="g";return null==t?this:(t[u]?t=t.replace($t,"\\$1"):vt(t)&&(t.global?n=t.flags||"":n+=t.flags||"",t=t.source),this.replace(new RegExp(t,n),e||""))}),O(t,"$toCapitalize",function(t){return this.substr(0,1).toUpperCase()+this.substr(1)[t?"$self":"toLowerCase"]()});var pt="millisecond",gt="second",yt="minute",bt="hour",mt="day",St="week",Mt="month",_t="year",Dt="date",Ot=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,jt=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,wt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},At=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},kt={padStart:At,padZoneStr:function(t){var e=Math.abs(t),n=Math.floor(e/60),r=e%60;return(t<=0?"+":"-")+At(n,2,"0")+":"+At(r,2,"0")},monthDiff:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months"),i=e-r<0,u=t.clone().add(n+(i?-1:1),"months");return Number(-(n+(e-r)/(i?r-u:u-r)))},absFloor:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},prettyUnit:function(t){return{M:Mt,y:_t,w:St,d:mt,h:bt,m:yt,s:gt,ms:pt}[t]||String(t||"").toLowerCase().replace(/s$/,"")},isUndefined:function(t){return void 0===t}},Ht="en",Et={};Et[Ht]=wt;var xt=function(t){return t instanceof Lt},Nt=function(t,e,n){var r;if(!t)return null;if("string"==typeof t)Et[t]&&(r=t),e&&(Et[t]=e,r=t);else{var i=t.name;Et[i]=t,r=i}return n||(Ht=r),r},Yt=function(t,e){if(xt(t))return t.clone();var n=e||{};return n.date=t,new Lt(n)},Ft=function(t,e){return Yt(t,{locale:e.$L})},Tt=kt;Tt.parseLocale=Nt,Tt.isDayjs=xt,Tt.wrapper=Ft;var Lt=function(){function t(t){this.parse(t)}var e=t.prototype;return e.parse=function(t){var e,n;this.$d=null===(e=t.date)?new Date(NaN):Tt.isUndefined(e)?new Date:e instanceof Date?e:"string"==typeof e&&/.*[^Z]$/i.test(e)&&(n=e.match(Ot))?new Date(n[1],n[2]-1,n[3]||1,n[5]||0,n[6]||0,n[7]||0,n[8]||0):new Date(e),this.init(t)},e.init=function(t){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||Nt(t.locale,null,!0)||Ht},e.$utils=function(){return Tt},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.$compare=function(t){return this.valueOf()-Yt(t).valueOf()},e.isSame=function(t){return 0===this.$compare(t)},e.isBefore=function(t){return this.$compare(t)<0},e.isAfter=function(t){return 0<this.$compare(t)},e.year=function(){return this.$y},e.month=function(){return this.$M},e.day=function(){return this.$W},e.date=function(){return this.$D},e.hour=function(){return this.$H},e.minute=function(){return this.$m},e.second=function(){return this.$s},e.millisecond=function(){return this.$ms},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var r=this,i=!!Tt.isUndefined(e)||e,n=function(t,e){var n=Ft(new Date(r.$y,e,t),r);return i?n:n.endOf(mt)},u=function(t,e){return Ft(r.toDate()[t].apply(r.toDate(),i?[0,0,0,0].slice(e):[23,59,59,999].slice(e)),r)};switch(Tt.prettyUnit(t)){case _t:return i?n(1,0):n(31,11);case Mt:return i?n(1,this.$M):n(0,this.$M+1);case St:return n(i?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case mt:case Dt:return u("setHours",0);case bt:return u("setMinutes",1);case yt:return u("setSeconds",2);case gt:return u("setMilliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){switch(Tt.prettyUnit(t)){case mt:this.$d.setDate(this.$D+(e-this.$W));break;case Dt:this.$d.setDate(e);break;case Mt:this.$d.setMonth(e);break;case _t:this.$d.setFullYear(e);break;case bt:this.$d.setHours(e);break;case yt:this.$d.setMinutes(e);break;case gt:this.$d.setSeconds(e);break;case pt:this.$d.setMilliseconds(e)}return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.add=function(r,t){var i=this;r=Number(r);var e,n=Tt.prettyUnit(t),u=function(t,e){var n=i.set(Dt,1).set(t,e+r);return n.set(Dt,Math.min(i.$D,n.daysInMonth()))};if(n===Mt)return u(Mt,this.$M);if(n===_t)return u(_t,this.$y);switch(n){case yt:e=6e4;break;case bt:e=36e5;break;case mt:e=864e5;break;case St:e=6048e5;break;case gt:e=1e3;break;default:e=1}var a=this.valueOf()+r*e;return Ft(a,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var e=this,n=t||"YYYY-MM-DDTHH:mm:ssZ",r=Tt.padZoneStr(this.$d.getTimezoneOffset()),i=this.$locale(),u=i.weekdays,a=i.months,s=function(t,e,n,r){return t&&t[e]||n[e].substr(0,r)};return n.replace(jt,function(t){if(-1<t.indexOf("["))return t.replace(/\[|\]/g,"");switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return String(e.$y);case"M":return String(e.$M+1);case"MM":return Tt.padStart(e.$M+1,2,"0");case"MMM":return s(i.monthsShort,e.$M,a,3);case"MMMM":return a[e.$M];case"D":return String(e.$D);case"DD":return Tt.padStart(e.$D,2,"0");case"d":return String(e.$W);case"dd":return s(i.weekdaysMin,e.$W,u,2);case"ddd":return s(i.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(e.$H);case"HH":return Tt.padStart(e.$H,2,"0");case"h":case"hh":return 0===e.$H?12:Tt.padStart(e.$H<13?e.$H:e.$H-12,"hh"===t?2:1,"0");case"a":return e.$H<12?"am":"pm";case"A":return e.$H<12?"AM":"PM";case"m":return String(e.$m);case"mm":return Tt.padStart(e.$m,2,"0");case"s":return String(e.$s);case"ss":return Tt.padStart(e.$s,2,"0");case"SSS":return Tt.padStart(e.$ms,3,"0");case"Z":return r;default:return r.replace(":","")}})},e.diff=function(t,e,n){var r=Tt.prettyUnit(e),i=Yt(t),u=this-i,a=Tt.monthDiff(this,i);switch(r){case _t:a/=12;break;case Mt:break;case"quarter":a/=3;break;case St:a=u/6048e5;break;case mt:a=u/864e5;break;case bt:a=u/36e5;break;case yt:a=u/6e4;break;case gt:a=u/1e3;break;default:a=u}return n?a:Tt.absFloor(a)},e.daysInMonth=function(){return this.endOf(Mt).$D},e.$locale=function(){return Et[this.$L]},e.locale=function(t,e){var n=this.clone();return n.$L=Nt(t,e,!0),n},e.clone=function(){return Ft(this.toDate(),this)},e.toDate=function(){return new Date(this.$d)},e.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},e.toJSON=function(){return this.toISOString()},e.toISOString=function(){return this.toDate().toISOString()},e.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},e.toString=function(){return this.$d.toUTCString()},t}();Yt.extend=function(t,e){return t(e,Lt,Yt),Yt},Yt.locale=Nt,Yt.isDayjs=xt,Yt.en=Et[Ht],O(Date,"$parse",function(t){return Yt(t).toDate()});var Ut="undefined"!=typeof global,Wt=et?window:Ut?global:{};O(Wt,"dayjs",Yt);var Jt=Date.prototype,Zt="__ZENJS_DAYJS__";O(Jt,"$dayjs",function(){var t=this[Zt];return t&&t.valueOf()===+this?t:this[Zt]=Yt(this)});var It="clone_init_parse_toDate_toISOString_toJSON_toString_unix_valueOf".split("_"),Rt=Yt.isDayjs;return Yt.extend(function(t,e){d(e.prototype).forEach(function(t){var n;0===t.indexOf("$")||-1<It.indexOf(t)||O(Jt,"$"+(n=t),function(){var t=this.$dayjs(),e=t[n].apply(t,arguments);return Rt(e)?(this.setTime(e.valueOf()),this[Zt]=e,this):e})})}),O(Wt,"$typeof",function(t){return null==t?t+"":t[p]?"array":typeof t}),Wt.ZenJS=S(!1,[null,{polyfill:{assign:v,entries:g},util:{congruence:W,equals:U,define:M,defineValue:O,defineGet:function(t,e,n,r){return M(t,e,{get:n},r||D),n},intRandom:lt,returnArg:function(t){return t},returnTrue:function(){return!0},returnFalse:function(){return!1},parametersDefault:L,parametersRest:P,isString:j,isBoolean:tt,isArray:x,isNumber:w,isRegExp:vt,isSet:V,isMap:C,isFunction:f,isObject:Q,isReferenceType:it,mapSetToArray:B}}])});
