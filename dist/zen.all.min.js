/*!
 * Zen.js v3.0.0
 * https://github.com/MoomFE/ZenJS
 * 
 * (c) 2018 Wei Zhang
 * Released under the MIT License.
 */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.ZenJS=n()}(this,function(){"use strict";var i=Object.defineProperty,t=String.prototype,n=Boolean.prototype,e=Array.prototype,r=Function.prototype;[["String",t],["Boolean",n],["Array",e],["Function",r]].forEach(function(t){i(t[1],"__is"+t[0]+"__",{value:!0,configurable:!1,enumerable:!1,writable:!1})});var h="__isBoolean__",p="__isArray__",l="__isFunction__",d=Object.keys,y=Object.entries||function(t){for(var n,e,r=d(t),i=Array(n=r.length);n--;)i[n]=[e=r[n],t[e]];return i},u=Object.prototype,a=u.toString,s=Object.getPrototypeOf,g=Object.hasOwnProperty;function o(t){return"function"==typeof t}var f=g.toString,c=f.call(Object);function b(t){if(!t||"[object Object]"!==a.call(t))return!1;var n=s(t);if(!n)return!0;var e=g.call(n,"constructor")&&n.constructor;return o(e)&&f.call(e)===c}var m=Object.create;function S(t,n,e,r){for(var i,u,a,s,o,f,c,h,l,d=n.length,$=1,v=n[0]||(null!==n[0]?{}:(r=!0,m(null)));$<d;$++)if(null!=(i=n[$]))for(a=(u=y(i)).length,s=0;s<a;s++)if(f=(o=u[s])[0],c=o[1],!t&&c&&(b(c)||c[p])){if(c===v)continue;if(e&&e===c){if(1===a)return;continue}h=v[f],void 0!==S(!1,[l=c[p]?h&&h[p]?h:[]:h&&b(h)?h:r?m(null):{},c],i,r)&&(v[f]=l)}else void 0===c&&!1!==g.call(v,f)||(v[f]=c);return v}var $=Object.assign||function(){return S(!0,arguments)};function v(n,t,e,r){null!=n&&t.split(" ").forEach(function(t){i(n,t,$({},e,r))})}var M={configurable:!0,enumerable:!1,writable:!0},_={configurable:!0,enumerable:!1};function D(t,n,e,r){return v(t,n,{value:e},r||M),e}function O(t){return"string"==typeof t}function j(t){return"number"==typeof t&&t==t&&isFinite(t)}function w(t){return!!j(t)||O(t)&&!isNaN(t-parseFloat(t))}function k(t,n,e){if(!j(t)||t<1)return[];var r=0,i=Array(t);if(!e&&o(n))for(;r<t;r++)i[r]=n(r);else for(;r<t;r++)i[r]=n;return i}var A=Math.ceil;function H(e,r){var t;return!e||r<1||!(t=e.length)?[]:k(A(t/r),function(t){var n=t*r;return e.slice(n,n+r)})}D(Array,"$chunk",H),D(e,"$chunk",function(t){return H(this,t)});var E=Array.isArray,N=e.slice;function Y(t,n){if(!t||!t.length||!o(n))return t;for(var e,r=t.length,i=0;i<r&&(e=t[i],!1!==n.call(e,e,i,t));i++);return t}D(Array,"$copy",function(t,n){return t&&t.length?E(n)?n.concat(t):N.call(t):[]}),D(Array,"$create",k),D(Array,"$each",Y),D(e,"$each",function(t){return Y(this,t)});var x=9007199254740991;function F(t){if(null==t||t[l])return!1;if(t[p])return!0;var n=t.length;return!!(j(n)&&-1<n&&n%1==0&&n<=x)}function T(t,n,e){var r;return t.length>n&&void 0!==(r=t[n])?r:e}function L(t,n){return t==n}function U(t,n){return t===n}function W(t){return o(t)?t:t?U:L}function J(t,n,e,r){return 1<t.length?r=W(T(t,e,!0)):o(n)?(r=n,n=void 0):r=U,[n,r]}function Z(t,n){if(!F(t)||!F(n))return!1;var e=t.length;if(e!==n.length)return!1;for(var r=W(T(arguments,2,!0)),i=0;i<e;i++)if(!r(t[i],n[i]))return!1;return!0}D(Array,"$equals",Z),D(e,"$equals",function(t,n){return Z(this,t,n)}),D(Array,"$isArrayLike",F);var I=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,q=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function C(t){return o(Map)&&t instanceof Map}function R(t){return o(Set)&&t instanceof Set}function V(t){var e=[];return t instanceof Map?t.forEach(function(t,n){return e.push([n,t])}):t.forEach(function(t){return e.push(t)}),e}function B(t){var n=T(arguments,1,0),e=t.length;return n<e?N.call(t,n,e):[]}function P(t,n,e){return(!w(n)||n<0&&(n=t.length+Number(n)+(e||0))<0)&&(n=0),n}function z(t,n,e){var r=e.length;if(!r)return t;n=P(t,n,1);for(var i=0;i<r;i++)t.splice(n++,0,e[i]);return t}function G(t,n,e,r){var i;if(null==n||!(i=t.length))return-1;var u,a,s,o,f=n[l];f||n[h]?f&&1===r.length?u=n:(r=B(r,1),f||(n=n?U:L)):(e=r[0],n=U),u||("object"!=typeof e&&(e=N.call(r)),F(e)&&(e=H(e,2)),s=n,o=(a=e)[p],u=function(t){return!(null==t||!d(t).length)&&(o?function(t,n,e){for(var r,i,u=t.length,a=0;a<u;a++)if(r=t[a],!((i=r[0])in n)||1!==r.length&&!e(r[1],n[i]))return!1;return!0}:function(t,n,e){for(var r,i=d(t),u=i.length,a=0;a<u;a++)if(!((r=i[a])in n&&e(t[r],n[r])))return!1;return!0})(a,t,s)});for(var c=0;c<i;c++)if(u(t[c]))return c;return-1}function K(t){return null!==t&&"object"==typeof t}function Q(t,n,e){var r=t.length;(n=P(t,n))>=r&&(n=r-1),t.splice(n,1,e)}function X(t){return"boolean"==typeof t}D(Array,"$toArray",function(t){return!t||t[h]?[]:t.__isString__?I.test(t)?t.match(q)||[]:t.split(""):F(t)?N.call(t):C(t)||R(t)?V(t):[]}),D(e,"$add",function(t){return z(this,t,B(arguments,1))}),D(e,"$delete $remove",function(t,n,e){var r=this.length;(t=P(this,t))>=r&&(t=r-1);var i=T(arguments,1,1),u=this.splice(t,i);return e?u:this}),D(e,"$deleteValue $removeValue",function(t){var n,e=this.length;if(!e)return this;var r=J(arguments,t,1),i=r[0],u=r[1];for(n=0;n<e;)u(this[n],i)?(this.$delete(n),e--):n++;return this}),D(e,"$concat",function(){var n=this;return N.call(arguments).forEach(function(t){z(n,-1,E(t)?t:[t])}),this}),D(e,"$concatTo",function(n){var e=this,t=B(arguments,1);if(!t.length)return this;var r=this.length,i=0;return n=P(this,n,1),t.forEach(function(t){z(e,i+n,E(t)?t:[t]),i=e.length-r}),this}),D(e,"$findIndex",function(t,n){return G(this,t,n,arguments)}),D(e,"$find",function(t,n){var e=G(this,t,n,arguments);return-1===e?null:this[e]}),D(e,"$get",function(){var t=arguments,n=P(this,T(t,0,0));if(t.length<=1)return this[n];var e=T(t,1,1);return this.slice(n,e+n)}),D(e,"$set $edit",function(t,n){var e=this;return K(t)?y(t).forEach(function(t){return Q(e,t[0],t[1])}):Q(this,t,n),this}),D(e,"$inArray",function(t){var n,e=this.length;if(!e)return!1;var r=J(arguments,t,1),i=r[0],u=r[1];for(n=0;n<e;n++)if(u(this[n],i))return!0;return!1}),D(e,"$move",function(t,n){return this.splice(P(this,n),0,this.splice(t,1)[0]),this}),D(e,"$moveRange",function(t,n,e){return z(this,P(this,e),this.splice(t,n))}),["push","pop","unshift","shift"].forEach(function(t){D(e,"$"+t,function(){return this[t].apply(this,arguments),this})}),D(Object,"$assign",function(t){return X(t)?S(t,B(arguments,1)):S(!1,arguments)}),D(u,"$assign",function(t){return X(t)?S(t,[this].concat(B(arguments,1))):S(!1,[this].concat(N.call(arguments)))});var tt="undefined"!=typeof window,nt=tt?window.Element:void 0,et=/^\[object\s([^\]]+)]$/;function rt(t){var n=typeof t;return"object"===n||"function"===n}function it(t,n,e,r){if(t===n)return!0;if(!t||!n)return t!=t&&n!=n;var i=a.call(t);if(i!==a.call(n))return!1;if(!rt(t))return!1;if(t.constructor!==n.constructor)return!1;if(F(t))return ut.array(t,n,e,r);if(b(t))return ut.object(t,n,e,r);var u=i.match(et)[1].toLowerCase();return u in ut?ut[u](t,n,e,r):nt&&t instanceof nt?ut.element(t,n):C(t)||R(t)?it(V(t),V(n)):ut.object(t,n,e,r)}var ut={array:function(t,n,e,r){var i,u=t.length;if(u!==n.length)return!1;for(i=0;i<u;i++)switch(at(t[i],n[i],e,r,t,n)){case 0:return!1;case 1:continue}return!0},object:function(t,n,e,r){var i,u,a=d(t),s=a.length;if(s!==d(n).length)return!1;for(i=0;i<s;i++)switch(at(t[u=a[i]],n[u],e,r,t,n)){case 0:return!1;case 1:continue}return!0},element:function(t,n){return t.innerHTML===n.innerHTML},regexp:function(t,n){return t.toString()===n.toString()},date:function(t,n){return+t==+n},function:function(t,n){return t.toString()===n.toString()}};function at(t,n,e,r,i,u){return!e||e!==t&&r!==n?it(t,n,i,u)?void 0:0:e===t?r===n?1:0:e===t?1:0}function st(t,n){if(null==t)return t;for(var e,r,i=d(t),u=i.length,a=0;a<u&&(r=t[e=i[a]],!1!==n.call(r,e,r,t));a++);return t}D(Object,"$equals",function(t,n){return it(t,n)}),D(u,"$equals",function(t){return it(this,t)}),D(Object,"$each",st),D(u,"$each",function(t){return st(this,t)}),D(Object,"$isEmptyObject",function(t){for(var n in t)return!1;return!0}),D(Object,"$isPlainObject",b),D(u,"$get",function(t){var n=this;if(arguments.length<2)return this[t];var e={};return N.call(arguments).forEach(function(t){e[t]=n[t]}),e}),D(u,"$set $edit",function(t,n){var e=this;return K(t)?this.$each(function(t,n){e[t]=n}):(this[t]=n,this)});var ot=e.concat;D(u,"$delete $remove",function(){var n=this;return ot.apply([],arguments).forEach(function(t){delete n[t]}),this}),D(u,"$deleteValue $removeValue",function(t){var n=this,e=J(arguments,t,1),r=e[0],i=e[1];return y(this).forEach(function(t){i(t[1],r)&&delete n[t[0]]}),this}),D(u,"$self",function(){return this}),D(Number,"$isNumber",w);var ft=Math.floor,ct=Math.random;function ht(t,n){return ft(ct()*(n-t+1)+t)}var lt=Math.abs;D(Math,"$random",function(){var t=arguments,n=T(t,0,0),e=1!==t.length?T(t,1,9):0;if(e<n){var r=[e,n];n=r[0],e=r[1]}if(0<n)return ht(n,e);var i=ht(0,e+lt(n));return e<i?e-i:i}),D(t,"$toCapitalize",function(t){return this.substr(0,1).toUpperCase()+this.substr(1)[t?"$self":"toLowerCase"]()});var dt="millisecond",$t="second",vt="minute",pt="hour",yt="day",gt="week",bt="month",mt="year",St="date",Mt=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,_t=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Dt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Ot=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},jt={padStart:Ot,padZoneStr:function(t){var n=Math.abs(t),e=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+Ot(e,2,"0")+":"+Ot(r,2,"0")},monthDiff:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,"months"),i=n-r<0,u=t.clone().add(e+(i?-1:1),"months");return Number(-(e+(n-r)/(i?r-u:u-r)))},absFloor:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},prettyUnit:function(t){return{M:bt,y:mt,w:gt,d:yt,h:pt,m:vt,s:$t,ms:dt}[t]||String(t||"").toLowerCase().replace(/s$/,"")},isUndefined:function(t){return void 0===t}},wt="en",kt={};kt[wt]=Dt;var At=function(t){return t instanceof xt},Ht=function(t,n,e){var r;if(!t)return null;if("string"==typeof t)kt[t]&&(r=t),n&&(kt[t]=n,r=t);else{var i=t.name;kt[i]=t,r=i}return e||(wt=r),r},Et=function(t,n){if(At(t))return t.clone();var e=n||{};return e.date=t,new xt(e)},Nt=function(t,n){return Et(t,{locale:n.$L})},Yt=jt;Yt.parseLocale=Ht,Yt.isDayjs=At,Yt.wrapper=Nt;var xt=function(){function t(t){this.parse(t)}var n=t.prototype;return n.parse=function(t){var n,e;this.$d=null===(n=t.date)?new Date(NaN):Yt.isUndefined(n)?new Date:n instanceof Date?n:"string"==typeof n&&/.*[^Z]$/i.test(n)&&(e=n.match(Mt))?new Date(e[1],e[2]-1,e[3]||1,e[5]||0,e[6]||0,e[7]||0,e[8]||0):new Date(n),this.init(t)},n.init=function(t){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||Ht(t.locale,null,!0)||wt},n.$utils=function(){return Yt},n.isValid=function(){return!("Invalid Date"===this.$d.toString())},n.$compare=function(t){return this.valueOf()-Et(t).valueOf()},n.isSame=function(t){return 0===this.$compare(t)},n.isBefore=function(t){return this.$compare(t)<0},n.isAfter=function(t){return 0<this.$compare(t)},n.year=function(){return this.$y},n.month=function(){return this.$M},n.day=function(){return this.$W},n.date=function(){return this.$D},n.hour=function(){return this.$H},n.minute=function(){return this.$m},n.second=function(){return this.$s},n.millisecond=function(){return this.$ms},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,n){var r=this,i=!!Yt.isUndefined(n)||n,e=function(t,n){var e=Nt(new Date(r.$y,n,t),r);return i?e:e.endOf(yt)},u=function(t,n){return Nt(r.toDate()[t].apply(r.toDate(),i?[0,0,0,0].slice(n):[23,59,59,999].slice(n)),r)};switch(Yt.prettyUnit(t)){case mt:return i?e(1,0):e(31,11);case bt:return i?e(1,this.$M):e(0,this.$M+1);case gt:return e(i?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case yt:case St:return u("setHours",0);case pt:return u("setMinutes",1);case vt:return u("setSeconds",2);case $t:return u("setMilliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,n){switch(Yt.prettyUnit(t)){case yt:this.$d.setDate(this.$D+(n-this.$W));break;case St:this.$d.setDate(n);break;case bt:this.$d.setMonth(n);break;case mt:this.$d.setFullYear(n);break;case pt:this.$d.setHours(n);break;case vt:this.$d.setMinutes(n);break;case $t:this.$d.setSeconds(n);break;case dt:this.$d.setMilliseconds(n)}return this.init(),this},n.set=function(t,n){return this.clone().$set(t,n)},n.add=function(r,t){var i=this;r=Number(r);var n,e=Yt.prettyUnit(t),u=function(t,n){var e=i.set(St,1).set(t,n+r);return e.set(St,Math.min(i.$D,e.daysInMonth()))};if(e===bt)return u(bt,this.$M);if(e===mt)return u(mt,this.$y);switch(e){case vt:n=6e4;break;case pt:n=36e5;break;case yt:n=864e5;break;case gt:n=6048e5;break;case $t:n=1e3;break;default:n=1}var a=this.valueOf()+r*n;return Nt(a,this)},n.subtract=function(t,n){return this.add(-1*t,n)},n.format=function(t){var n=this,e=t||"YYYY-MM-DDTHH:mm:ssZ",r=Yt.padZoneStr(this.$d.getTimezoneOffset()),i=this.$locale(),u=i.weekdays,a=i.months,s=function(t,n,e,r){return t&&t[n]||e[n].substr(0,r)};return e.replace(_t,function(t){if(-1<t.indexOf("["))return t.replace(/\[|\]/g,"");switch(t){case"YY":return String(n.$y).slice(-2);case"YYYY":return String(n.$y);case"M":return String(n.$M+1);case"MM":return Yt.padStart(n.$M+1,2,"0");case"MMM":return s(i.monthsShort,n.$M,a,3);case"MMMM":return a[n.$M];case"D":return String(n.$D);case"DD":return Yt.padStart(n.$D,2,"0");case"d":return String(n.$W);case"dd":return s(i.weekdaysMin,n.$W,u,2);case"ddd":return s(i.weekdaysShort,n.$W,u,3);case"dddd":return u[n.$W];case"H":return String(n.$H);case"HH":return Yt.padStart(n.$H,2,"0");case"h":case"hh":return 0===n.$H?12:Yt.padStart(n.$H<13?n.$H:n.$H-12,"hh"===t?2:1,"0");case"a":return n.$H<12?"am":"pm";case"A":return n.$H<12?"AM":"PM";case"m":return String(n.$m);case"mm":return Yt.padStart(n.$m,2,"0");case"s":return String(n.$s);case"ss":return Yt.padStart(n.$s,2,"0");case"SSS":return Yt.padStart(n.$ms,3,"0");case"Z":return r;default:return r.replace(":","")}})},n.diff=function(t,n,e){var r=Yt.prettyUnit(n),i=Et(t),u=this-i,a=Yt.monthDiff(this,i);switch(r){case mt:a/=12;break;case bt:break;case"quarter":a/=3;break;case gt:a=u/6048e5;break;case yt:a=u/864e5;break;case pt:a=u/36e5;break;case vt:a=u/6e4;break;case $t:a=u/1e3;break;default:a=u}return e?a:Yt.absFloor(a)},n.daysInMonth=function(){return this.endOf(bt).$D},n.$locale=function(){return kt[this.$L]},n.locale=function(t,n){var e=this.clone();return e.$L=Ht(t,n,!0),e},n.clone=function(){return Nt(this.toDate(),this)},n.toDate=function(){return new Date(this.$d)},n.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},n.toJSON=function(){return this.toISOString()},n.toISOString=function(){return this.toDate().toISOString()},n.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},n.toString=function(){return this.$d.toUTCString()},t}();Et.extend=function(t,n){return t(n,xt,Et),Et},Et.locale=Ht,Et.isDayjs=At,Et.en=kt[wt],D(Date,"$parse",function(t){return Et(t).toDate()});var Ft="undefined"!=typeof global,Tt=tt?window:Ft?global:{};D(Tt,"dayjs",Et);var Lt=Date.prototype,Ut="__ZENJS_DAYJS__";D(Lt,"$dayjs",function(){var t=this[Ut];return t&&t.valueOf()===+this?t:this[Ut]=Et(this)});var Wt="clone_init_parse_toDate_toISOString_toJSON_toString_unix_valueOf".split("_"),Jt=Et.isDayjs;return Et.extend(function(t,n){d(n.prototype).forEach(function(t){var e;0===t.indexOf("$")||-1<Wt.indexOf(t)||D(Lt,"$"+(e=t),function(){var t=this.$dayjs(),n=t[e].apply(t,arguments);return Jt(n)?(this.setTime(n.valueOf()),this[Ut]=n,this):n})})}),D(Tt,"$typeof",function(t){return null==t?t+"":t[p]?"array":typeof t}),Tt.ZenJS=S(!1,[null,{polyfill:{assign:$,entries:y},util:{congruence:U,equals:L,define:v,defineValue:D,defineGet:function(t,n,e,r){return v(t,n,{get:e},r||_),e},intRandom:ht,returnArg:function(t){return t},returnTrue:function(){return!0},returnFalse:function(){return!1},parametersDefault:T,parametersRest:B,isString:O,isBoolean:X,isArray:E,isNumber:j,isRegExp:function(t){return"[object RegExp]"===a.call(t)},isSet:R,isMap:C,isFunction:o,isObject:K,isReferenceType:rt,mapSetToArray:V}}])});
