/*!
 * Zen.js v2.1.0-bata
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var s=Array.isArray,u=Object.defineProperty;function l(t){return null!==t&&"object"==typeof t}function a(e,n,r,i){var t;if(null!=e)if(s(e)&&e instanceof Array)e.forEach(function(t){return a(t,n,r,i)});else if(l(n))for(t in n)a(e,t,n[t],r);else n.split(" ").forEach(function(t){u(e,t,Object.assign({},r,i))})}var f={configurable:!0,enumerable:!1,writable:!0},o={configurable:!0,enumerable:!1};function c(t,e,n,r){var i;if(l(e)){for(i in e)c(t,i,e[i],r);return e}return a(t,e,{value:n},r||f),n}var e=Array.prototype;function r(t,e){return t.length>e&&void 0!==t[e]}function d(t,e,n){return r(t,e)?t[e]:n}var n=e.slice;function h(t){return"string"==typeof t}var i=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,p=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;function v(t){return t?h(t)?i.test(t)?t.match(p)||[]:t.split(""):n.call(t):[]}function g(t){var e=d(arguments,1,0),n=t.length;return e<n?v(t).$get(e,n):[]}function m(t,e,n){var r=n.length;e<0&&(e=t.length+e+1);for(var i=0;i<r;i++)t.splice(e++,0,n[i]);return t}function $(t){return"function"==typeof t}function y(t,e){return t===e}function b(t,e){return t==e}c(Array,"$toArray",v),c(e,"$add",function(t){return m(this,t,g(arguments,1))}),c(e,"$concat",function(){var e=this;return v(arguments).forEach(function(t){m(e,-1,s(t)?t:[t])}),this}),c(Array,"$create",function(t,e){var n=0,r=[];for(t>>=0;n<t;n++)r.push(e&&$(e)?e(n):e);return r}),c(e,"$delete",function(t){var e=d(arguments,1,1);return this.splice(t,e),this}),c(e,"$deleteValue",function(t){for(var e=d(arguments,1,!0)?y:b,n=0,r=this.length;n<r;)e(this[n],t)?(this.$delete(n),r--):n++;return this}),c(e,"$each",function(t){for(var e,n=0,r=this.length;n<r&&(e=this[n],!1!==t.call(e,e,n,this));n++);return this}),c(e,"$equals",function(t){if(!t)return!1;var e=0,n=this.length;if(n!==t.length)return!1;for(var r=d(arguments,1,!0)?y:b;e<n;e++)if(!r(this[e],t[e]))return!1;return!0}),c(e,"$get",function(){var t=d(arguments,0,0),e=arguments[1];return null==e?this[t]:this.slice(t,e+t)}),c(e,"$inArray",function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return!0;return!1}),"push_unshift_pop_shift".split("_").forEach(function(t){c(e,"$"+t,function(){return this[t].apply(this,arguments),this})});var E="addEventListener",w="__ZENJS_EVENT_ADD__",j="removeEventListener",S="__ZENJS_EVENT_REMOVE__",t="undefined"!=typeof window;t&&c(document,"$ready",function(n,r){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return n.apply(window,r);this[E]("DOMContentLoaded",function t(e){this.removeEventListener(e.type,t),n.apply(window,r)})});var O=t?Element.prototype:void 0,_=Math.min;t&&a(O,"_index",{get:function(){return this.parentElement?this.$prevAll().length:-1},set:function(t){var e=this.parentElement;if(null!=e){var n=e.children,r=this._index,i=_(n.length-1,t);if(r!==i){var u=n[i];e.insertBefore(this,r<i?u.nextElementSibling:u)}}}});var C=/[^\x20\t\r\n\f]+/g;function T(t,e,n,r){var i=t.classList,u=(e||"").match(C)||[];if("has"===n){for(var a=0,f=u.length;a<f;a++)if(!1===i.contains(u[a]))return!1;return 0!==f}return t.offsetHeight,r?u.forEach(function(t){i.contains(t)?i.remove(t):i.add(t)}):u.forEach(function(t){i[n](t)}),t}function x(t,e,n,r){if(null==t||0===t.length)return t;if(null==e)return t.nodeType?r?t:t[n]:t;var i=h(e);if(t.nodeType){if(r&&(i?t.$is(e):e(t)))return t;if(i)for(;(t=t[n])&&!t.$is(e););else for(;(t=t[n])&&!e(t););return t}return t.filter(i?function(t){return t.$is(e)}:e)}function A(t){for(var e in t)return!1;return!0}t&&c(O,{$addClass:function(t){return T(this,t,"add")},$removeClass:function(t){return T(this,t,"remove")},$hasClass:function(t){return T(this,t,"has")},$toggleClass:function(t,e){var n=!(1<arguments.length);return T(this,t,n?null:e?"add":"remove",n)}}),t&&c(O,"$child $children",function(t){return x(v(this.children),t)}),t&&c(O,{"$first $firstChild":function(t){return x(this.firstElementChild,t,"nextElementSibling",!0)},"$last $lastChild":function(t){return x(this.lastElementChild,t,"previousElementSibling",!0)}}),t&&c(O,{$is:function(t){return t.nodeType?this===t:!!h(t)&&this.matches(t)},$not:function(t){return!this.$is(t)}}),t&&[["$next","nextElementSibling"],["$prev","previousElementSibling"]].forEach(function(t){var e=t[0],n=t[1],r={};r[e]=function(t){return x(this,t,n)},r[e+"All"]=function(t){return x(function(t,e){for(var n=[];t=t[e];)n.push(t);return n}(this,n),t)},c(O,r)}),t&&c(O,{$parent:function(t){return x(this.parentElement,t,null,!0)},$parents:function(t,e){return x(this,t,"parentElement",e)}}),t&&[document,O].forEach(function(t){c(t,"$query",t.querySelectorAll),c(t,"$queryFirst",t.querySelector)}),t&&c(O,"$siblings",function(t){var e=this.parentElement;return e?x(v(e.children).$deleteValue(this),t):[]}),c(Object,"$isEmptyObject",A);var N=t&&"EventTarget"in window,D=N?window.EventTarget.prototype:t?[window,document,O]:void 0;N?(c(D,w,D[E]),c(D,S,D[j])):D&&D.forEach(function(t){c(t,w,t[E]),c(t,S,t[j])});var P="__ZENJS_DATA__";function L(t){return t[P]||(c(t,P,{}),t[P])}t&&(c(D,"$data",function t(e,n,r){var i=this||window,u=L(i);if(l(e)){for(var a in e)t.call(i,a,e[a],n);return i}return arguments.length<2||r?null==e?u:!r||e in u?u[e]:u[e]=n:(u[e]=n,i)}),c(D,"$hasData",function(t){var e=L(this||window);return!A(e)&&(null==t||t in e)}),c(D,"$deleteData",function(t){var e=this||window;if(null==t)return e[P]={},e;var n=L(e);return t.split(" ").forEach(function(t){delete n[t]}),e}));var R=/^([^.]*)(?:\.(.+)|)/,k=Object.prototype,q=k.toString,M=Object.getPrototypeOf,V=Object.hasOwnProperty,F=V.toString,U=F.call(Object);function I(t){if(!t||"[object Object]"!==q.call(t))return!1;var e=M(t);if(!e)return!0;var n=V.call(e,"constructor")&&e.constructor;return $(n)&&F.call(n)===U}function J(){for(var t,e,n,r,i,u,a=1,f=arguments.length,o=arguments[0]||{};a<f;a++)if(null!=(t=arguments[a]))for(e in t)(r=t[e])!==o&&(n=o[e],r&&(I(r)||(i=s(r)))?(i?(i=!1,u=n&&s(n)?n:[]):u=n&&I(n)?n:{},o[e]=J(u,r)):void 0!==r&&(o[e]=r));return o}c(Object,"$isPlainObject",I),c(Object,"$assign",J);var Z=Object.create;function B(t){return"boolean"==typeof t}function H(t){var e=g(arguments,1);return B(t)||!t?e.unshift(t?Z(null):{}):e.unshift({},t),J.apply(null,e)}c(Object,"$create",H);var z=H(!0,{version:"2.1.0-bata"});function G(t,e,n,r,i){if(0!==e.length){var u=K[t],a=e.filter(function(t){return t in u}),f=a.length;if(0!==f)for(var o,c,s=0;s<f;s++)if(o=a[s],void 0===(c=u[o]).type&&!1===c.handler(n,r,e,i))return!1}}t&&(window.Zen=window.ZenJS=z);var K={add:{},dispatch:{self:{handler:function(t,e,n,r){if(r.target!==r.currentTarget)return!1}}}},W=K.add,Q=K.dispatch;function X(){return!1}function Y(){return!0}function tt(t,e){if(this instanceof z.Event==!1)return new z.Event(t,e);if(t&&t.type)for(var n in this.originalEvent=t,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Y:X,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,t)n in this||(this[n]=t[n]);else this.type=t;e&&J(this,e),this.timeStamp=t&&t.timeStamp||Date.now()}W.once=W.one={handler:function(t,e,n,r){if(r=r[e])for(var i=0,u=r.length;i<u;i++)if(n.$equals(r[i].namespace))return!1}},["ctrl","shift","alt","meta"].forEach(function(i){Q[i]={handler:function(t,e,n,r){if(!r[i+"Key"])return!1}}}),["left","middle","right"].forEach(function(t,i){Q[t]={handler:function(t,e,n,r){if("button"in r&&r.button!==i)return!1}}}),c(k,"$set",function(t,e){var n;if(l(t))for(n in t)this[n]=t[n];else this[t]=e;return this});var et=tt.prototype={constructor:tt};["preventDefault","stopPropagation","stopImmediatePropagation"].forEach(function(t){et[t]=function(){this.originalEvent&&this.originalEvent[t]()}}),t&&(z.Event=tt);var nt=tt.addProp=function(t,e){u(et,t,{enumerable:!0,configurable:!0,get:$(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){return this[t]},set:function(){this[t]=value}})},rt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;nt("which",function(t){var e;return null==t.which&&rt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==(e=t.button)&&it.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which});var ut=H(!0,{add:function(t,e,n,r,i,u){for(var a,f,o,c,s=t.$data("events",{},!0),l=e.length,d=r.guid||(r.guid=z.guid);l--;)(f=(a=R.exec(e[l])||[])[1])&&!1!==G("add",o=(a[2]||"").split(".").sort(),t,f,s)&&(c={elem:t,type:f,guid:d,data:u,listener:r,selector:n,options:i,namespace:o,namespaceStr:o.join("."),handle:function(){return z.EventListener.dispatch.apply(c,arguments)}},(s[f]||(s[f]=[])).push(c),i.passive?t[w](f,c.handle,{passive:!0,capture:i.capture||!1}):t[w](f,c.handle,i.capture||!1))},dispatch:function(t){var e=this.elem,n=t instanceof tt?t:new tt(t),r=v(arguments).$set(0,n);n.delegateTarget=e,n.handleOptions=this,n.data=this.data;var i=n.type,u=this.selector;if(!u||"click"===i&&1<=n.button)n.currentTarget||(n.currentTarget=e),n.target||(n.target=e);else{for(var a=n.target;a!==e;a=a.parentNode||e)if(1===a.nodeType&&("click"!==i||!0!==a.disabled)&&a.matches(u)){e=n.currentTarget=a;break}if(n.delegateTarget===e)return}if(!1!==G("dispatch",this.namespace,e,i,n)){var f=this.listener.apply(e,r);return!1===f&&z.config.event.returnFalse&&(n.preventDefault(),n.stopPropagation()),f}},remove:function t(e,n,r,i){if(e.$hasData("events")){n=(n||"").match(C)||[""];for(var u,a,f,o,c,s,l=e.$data("events"),d=n.length;d--;)if(a=(u=R.exec(n[d])||[])[1]){for(f=(u[2]||"").split(".").sort().join("."),c=(o=l[a]||[]).length,u=u[2]&&new RegExp("^"+f+"$");c--;)s=o[c],r&&r.guid!==s.guid||u&&!u.test(s.namespaceStr)||(i?"**"===i||"*"===i&&s.selector||i===s.selector:!s.selector)&&(e[S](a,s.handle),o.splice(c,1));0===o.length&&delete l[a]}else for(a in l)t(e,a+n[d],r,i)}},emit:function(t,e,n){if(t.$hasData("events")){e=(e||"").match(C)||[""];for(var r,i,u,a,f,o,c=t.$data("events"),s=e.length;s--;)if(i=(r=R.exec(e[s])||[])[1])for(u=(r[2]||"").split(".").sort().join(),f=(a=c[i]||[]).length,r=r[2]&&new RegExp("^"+u+"$");f--;)o=a[f],r&&!r.test(o.namespaceStr)||o.selector||o.handle.apply(null,n.$unshift(i))}},namespaceHandler:G});t&&(z.EventListener=ut);var at=!1;try{var ft=u({},"passive",{get:function(){at=!0}});window[E]("test",null,ft)}catch(t){}function ot(e,t,n,r,i){var u,a;if(l(t)?(u=t,h(n)?i=r:(i=n,n=r)):l(n)&&(u=n,n=t,i=r),u){for(var f in u)ot(e,f,u[f],n,i);return e}if(!t)return e;if(null==(t=t.match(C))||0===t.length)return e;if(!h(n)){var o=[n,r];r=o[0],h(n=o[1])||(i||(i=n),n=void 0)}if(null==r)return e;if(B(r)&&(r=r?Y:X),!r)return e;if(B(i)&&(i={capture:i}),(i=i||{}).data&&(a=i.data,delete i.data),Object.keys(i).forEach(function(t){i[t]?i[t]=!0:delete i[t]}),!0===this||"one"in i||"once"in i){var c=r;(r=function(t){return e.$off(t),c.apply(this,arguments)}).guid=c.guid||(c.guid=z.guid),delete i.one,delete i.once}return"passive"in i&&!at&&delete i.passive,ut.add(e,t,n,r,i,a),e}function ct(t,e,n,r){return ot.call(!0,this,t,e,n,r)}t&&c(D,{$on:function(t,e,n,r){return ot(this,t,e,n,r)},$one:ct,$once:ct,$off:function t(e,n,r){var i;if(e&&e.delegateTarget&&(i=e.handleOptions))return t.call(e.delegateTarget,i.namespace?i.type+"."+i.namespace.join("."):i.type,i.listener,i.selector),this;if(l(e)){for(var u in e)t.call(this,u,n,e[u]);return this}if("*"===e||"**"===e)n=e,e=r=void 0;else{if(!h(n)){var a=[n,r];r=a[0],n=a[1]}B(r)&&(r=r?Y:X)}return z.EventListener.remove(this,e,r,n),this},$emit:function(t){var e=g(arguments,1);return z.EventListener.emit(this,t,e),this}}),c(Math,"$mean",function(){return v(arguments).reduce(function(t,e){return t+e})/arguments.length});var st=Math.random,lt=Math.floor;function dt(t){var e=d(t,0,9),n=d(t,1,0);return n<e?[n,e]:[e,n]}function ht(t,e){return lt(st()*(e-t+1)+t)}function pt(){var t=dt(arguments);return ht(t[0],t[1])}c(Math,"$random",pt);var vt=Math.abs;function gt(t){return"[object Number]"===q.call(t)}c(Math,"$randomPlus",function(){var t=dt(arguments),e=t[0],n=t[1];return 0<e?ht(e,n):n<(t=ht(0,n+vt(e)))?n-t:t}),c(Number,"$isNumber",function(t){return!(!gt(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),c(k,"$delete",function(){var e=this;return v(arguments).$each(function(t){delete e[t]}),this}),c(k,"$deleteValue",function(t){var e,n=d(arguments,1,!0)?y:b;for(e in this)n(this[e],t)&&delete this[e];return this}),c(Object,"$each",function(t,e){if(null==t)return t;var n,r;for(n in t)if(r=t[n],!1===e.call(r,n,r,t))break;return t});var mt=Object.keys,$t=JSON.stringify;function yt(t,e,n,r){var i;if(l(e)){for(i in e)yt(t,i,e[i],r);return e}return a(t,e,{get:n},r||o),n}function bt(){return this}c(Object,"$equals",function t(e,n,r){var i,u,a,f,o,c;if(e===n)return!0;if(!e||r&&r===e)return!1;if(q.call(e)!==q.call(n))return!1;if("object"!=(c=typeof e)&&"function"!==c)return!1;if(I(e)||(f=s(e)))if(f){if(e.length!==n.length)return!1;for(i=0,u=e.length;i<u;i++)if(!t(e[i],n[i],e))return!1}else{if(mt(e).length!==mt(n).length)return!1;for(a in e)if(!t(e[a],n[a],e))return!1}else if($(e.toString)&&!(o=e.toString()).startsWith("[object ")){if(n.toString()!==o)return!1}else try{if($t(e)!==$t(n))return!1}catch(t){return!1}return!0}),c(k,"$get",function(t){return this[t]}),c(k,"$self",bt),yt(k,"__self__",bt);var Et=String.fromCharCode;function wt(){var t=d(arguments,0,!1);return Et(t?pt(65,90):pt(97,122))}function jt(t){return"[object RegExp]"===q.call(t)}c(String,"$random",wt);var St=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,Ot=String.prototype;c(Ot,"$replaceAll",function(t,e){var n="g";if(jt(t)){if(t.global)return this.replace(t,e);n+=t.flags||"",t=t.source}else t=t.replace(St,"\\$1");return this.replace(new RegExp(t,n),e)}),c(String,"$someRandom",function(){for(var t="",e=d(arguments,0,12),n=d(arguments,1,!1),r=d(arguments,2,!1);0<e--;)t+=wt();return n&&(t=t.split("").map(function(t){return pt(1)?t.toUpperCase():t}).join("")),r&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return pt(1)?pt():t}).join("")),t}),c(Ot,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var _t=/\+/g;function Ct(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t&&c(window,"$querystring",{stringify:function(e){var t=d(arguments,1,"&"),n=d(arguments,2,"=");return l(e)?Object.keys(e).map(function(t){return encodeURIComponent(Ct(t))+n+encodeURIComponent(Ct(e[t]))}).join(t):""},parse:function(t){var e=d(arguments,1,"&"),n=d(arguments,2,"="),r={};if(!h(t))return r;for(var i,u,a,f,o=0,c=t.split(e),s=c.length;o<s;o++)-1<(f=(a=c[o].replace(_t,"%20")).indexOf(n))?(i=a.substr(0,f),u=a.substr(f+1)):i=a,i=decodeURIComponent(i),u=decodeURIComponent(u),r[i]=u;return r}}),t&&c(window,"$ready",function(n,r){var i=this||window;if("complete"===i.document.readyState)return n.apply(i,r);i[E]("load",function t(e){i.removeEventListener(e.type,t),n.apply(i,r)})}),t&&c(window,"$typeof",function(t){var e;return null==t?t+"":"object"==(e=typeof t)&&s(t)?"array":e});var Tt,xt=H(!0);t&&u(xt,"event",{get:function(){return Tt},set:function(t){if(!B(t)||Tt===t)return!1;(Tt=t)?N?(c(D,E,D.$on),c(D,j,D.$off)):D.forEach(function(t){c(t,E,t.$on),c(t,j,t.$off)}):N?(c(D,E,D[w]),c(D,j,D[S])):D.forEach(function(t){c(t,E,t[w]),c(t,j,t[S])})},enumerable:!0});var At=H(!0,{returnFalse:!1}),Nt=z.config=H(!0);Nt.inject=xt,mt(xt).forEach(function(t){xt[t]=!0}),Nt.event=At;var Dt=1;u(z,"guid",{get:function(){return Dt++}});var Pt=z.util=H(!0);Pt.is=H(!0,{equals:b,congruence:y}),Pt.types=H(!0,{isArray:s,isBoolean:B,isFunction:$,isNumber:gt,isObject:l,isRegExp:jt,isString:h}),Pt.parameters=H(!0,{has:r,default:d,rest:g}),Pt.fn=H(!0,{define:a,defineGet:yt,defineValue:c,returnTrue:Y,returnFalse:X}),Pt.supports=H(!0,{passiveEvent:at,EventTarget:N})});