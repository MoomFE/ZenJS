/*!
 * Zen.js v2.1.0-bata
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var c=Array.isArray,a=Object.defineProperty;function l(t){return null!==t&&"object"==typeof t}function o(e,n,r,i){var t;if(null!=e)if(c(e)&&e instanceof Array)e.forEach(function(t){return o(t,n,r,i)});else if(l(n))for(t in n)o(e,t,n[t],r);else n.split(" ").forEach(function(t){a(e,t,Object.assign({},r,i))})}var u={configurable:!0,enumerable:!1,writable:!0},f={configurable:!0,enumerable:!1};function s(t,e,n,r){var i;if(l(e)){for(i in e)s(t,i,e[i],r);return e}return o(t,e,{value:n},r||u),n}var e=Array.prototype;function h(t,e,n){var r;return t.length>e&&void 0!==(r=t[e])?r:n}function n(t){var e=h(arguments,1,0),n=t.length;return e<n?Array.from(t).$get(e,n):[]}function r(t,e,n){var r=n.length;e<0&&(e=t.length+e+1);for(var i=0;i<r;i++)t.splice(e++,0,n[i]);return t}function d(t){return"function"==typeof t}function i(t,e){return t===e}function p(t,e){return t==e}s(e,"$get",function(){var t=h(arguments,0,0),e=arguments[1];return null==e?this[t]:this.slice(t,e+t)}),s(e,"$add",function(t){return r(this,t,n(arguments,1))}),s(e,"$concat",function(){var e=this;return Array.from(arguments).forEach(function(t){r(e,-1,c(t)?t:[t])}),this}),s(Array,"$create",function(t,e){var n=0,r=[];for(t>>=0;n<t;n++)r.push(e&&d(e)?e(n):e);return r}),s(e,"$delete",function(t){var e=h(arguments,1,1);return this.splice(t,e),this}),s(e,"$deleteValue",function(t){for(var e=h(arguments,1,!0)?i:p,n=0,r=this.length;n<r;)e(this[n],t)?(this.$delete(n),r--):n++;return this}),s(e,"$each",function(t){for(var e,n=0,r=this.length;n<r&&(e=this[n],!1!==t.call(e,e,n,this));n++);return this}),s(e,"$equals",function(t){if(!t)return!1;var e=0,n=this.length;if(n!==t.length)return!1;for(var r=h(arguments,1,!0)?i:p;e<n;e++)if(!r(this[e],t[e]))return!1;return!0}),"push_unshift_pop_shift".split("_").forEach(function(t){s(e,"$"+t,function(){return this[t].apply(this,arguments),this})}),s(e,"$inArray",function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return!0;return!1});var v="addEventListener",g="__ZENJS_EVENT_ADD__",m="removeEventListener",$="__ZENJS_EVENT_REMOVE__",t="undefined"!=typeof window;t&&s(document,"$ready",function(n,r){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return n.apply(window,r);this[v]("DOMContentLoaded",function t(e){this.removeEventListener(e.type,t),n.apply(window,r)})});var y=t?Element.prototype:void 0,E=Math.min;t&&o(y,"_index",{get:function(){return this.parentElement?this.$prevAll().length:-1},set:function(t){var e=this.parentElement;if(null!=e){var n=e.children,r=this._index,i=E(n.length-1,t);if(r!==i){var a=n[i];e.insertBefore(this,r<i?a.nextElementSibling:a)}}}});var b=/[^\x20\t\r\n\f]+/g;function w(t,e,n,r){var i=t.classList,a=(e||"").match(b)||[];if("has"===n){for(var o=0,u=a.length;o<u;o++)if(!1===i.contains(a[o]))return!1;return 0!==u}return t.offsetHeight,r?a.forEach(function(t){i.contains(t)?i.remove(t):i.add(t)}):a.forEach(function(t){i[n](t)}),t}function j(t){return"string"==typeof t}function S(t,e,n,r){if(null==t||0===t.length)return t;if(null==e)return t.nodeType?r?t:t[n]:t;var i=j(e);if(t.nodeType){if(r&&(i?t.$is(e):e(t)))return t;if(i)for(;(t=t[n])&&!t.$is(e););else for(;(t=t[n])&&!e(t););return t}return t.filter(i?function(t){return t.$is(e)}:e)}function O(t){for(var e in t)return!1;return!0}t&&s(y,{$addClass:function(t){return w(this,t,"add")},$removeClass:function(t){return w(this,t,"remove")},$hasClass:function(t){return w(this,t,"has")},$toggleClass:function(t,e){var n=!(1<arguments.length);return w(this,t,n?null:e?"add":"remove",n)}}),t&&s(y,"$child $children",function(t){return S(Array.from(this.children),t)}),t&&s(y,{"$first $firstChild":function(t){return S(this.firstElementChild,t,"nextElementSibling",!0)},"$last $lastChild":function(t){return S(this.lastElementChild,t,"previousElementSibling",!0)}}),t&&s(y,{$is:function(t){return t.nodeType?this===t:!!j(t)&&this.matches(t)},$not:function(t){return!this.$is(t)}}),t&&[["$next","nextElementSibling"],["$prev","previousElementSibling"]].forEach(function(t){var e=t[0],n=t[1],r={};r[e]=function(t){return S(this,t,n)},r[e+"All"]=function(t){return S(function(t,e){for(var n=[];t=t[e];)n.push(t);return n}(this,n),t)},s(y,r)}),t&&s(y,{$parent:function(t){return S(this.parentElement,t,null,!0)},$parents:function(t,e){return S(this,t,"parentElement",e)}}),t&&[document,y].forEach(function(t){s(t,"$query",t.querySelectorAll),s(t,"$queryFirst",t.querySelector)}),t&&s(y,"$siblings",function(t){var e=this.parentElement;return e?S(Array.from(e.children).$deleteValue(this),t):[]}),s(Object,"$isEmptyObject",O);var _=t&&"EventTarget"in window,C=_?window.EventTarget.prototype:t?[window,document,y]:void 0;_?(s(C,g,C[v]),s(C,$,C[m])):C&&C.forEach(function(t){s(t,g,t[v]),s(t,$,t[m])});var A="__ZENJS_DATA__";function T(t){return t[A]||(s(t,A,{}),t[A])}t&&(s(C,"$data",function t(e,n,r){var i=this||window,a=T(i);if(l(e)){for(var o in e)t.call(i,o,e[o],n);return i}return arguments.length<2||r?null==e?a:!r||e in a?a[e]:a[e]=n:(a[e]=n,i)}),s(C,"$hasData",function(t){var e=T(this||window);return!O(e)&&(null==t||t in e)}),s(C,"$deleteData",function(t){var e=this||window;if(null==t)return e[A]={},e;var n=T(e);return t.split(" ").forEach(function(t){delete n[t]}),e}));var x=/^([^.]*)(?:\.(.+)|)/,N=Object.prototype,D=N.toString,P=Object.getPrototypeOf,L=Object.hasOwnProperty,R=L.toString,k=R.call(Object);function q(t){if(!t||"[object Object]"!==D.call(t))return!1;var e=P(t);if(!e)return!0;var n=L.call(e,"constructor")&&e.constructor;return d(n)&&R.call(n)===k}function M(){for(var t,e,n,r,i,a,o=1,u=arguments.length,f=arguments[0]||{};o<u;o++)if(null!=(t=arguments[o]))for(e in t)(r=t[e])!==f&&(n=f[e],r&&(q(r)||(i=c(r)))?(i?(i=!1,a=n&&c(n)?n:[]):a=n&&q(n)?n:{},f[e]=M(a,r)):void 0!==r&&(f[e]=r));return f}s(Object,"$isPlainObject",q),s(Object,"$assign",M);var V=Object.create;function F(t){return"boolean"==typeof t}function U(t){var e=n(arguments,1);return F(t)||!t?e.unshift(t?V(null):{}):e.unshift({},t),M.apply(null,e)}s(Object,"$create",U);var I=U(!0,{version:"2.1.0-bata"});function J(t,e,n,r,i){if(0!==e.length){var a=Z[t],o=e.filter(function(t){return t in a}),u=o.length;if(0!==u)for(var f,s,c=0;c<u;c++)if(f=o[c],void 0===(s=a[f]).type&&!1===s.handler(n,r,e,i))return!1}}t&&(window.Zen=window.ZenJS=I);var Z={add:{},dispatch:{self:{handler:function(t,e,n,r){if(r.target!==r.currentTarget)return!1}}}},B=Z.add,H=Z.dispatch;function z(){return!1}function G(){return!0}function K(t,e){if(this instanceof I.Event==!1)return new I.Event(t,e);if(t&&t.type)for(var n in this.originalEvent=t,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?G:z,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,t)n in this||(this[n]=t[n]);else this.type=t;e&&M(this,e),this.timeStamp=t&&t.timeStamp||Date.now()}B.once=B.one={handler:function(t,e,n,r){if(r=r[e])for(var i=0,a=r.length;i<a;i++)if(n.$equals(r[i].namespace))return!1}},["ctrl","shift","alt","meta"].forEach(function(i){H[i]={handler:function(t,e,n,r){if(!r[i+"Key"])return!1}}}),["left","middle","right"].forEach(function(t,i){H[t]={handler:function(t,e,n,r){if("button"in r&&r.button!==i)return!1}}}),s(N,"$set",function(t,e){var n;if(l(t))for(n in t)this[n]=t[n];else this[t]=e;return this});var W=K.prototype={constructor:K};["preventDefault","stopPropagation","stopImmediatePropagation"].forEach(function(t){W[t]=function(){this.originalEvent&&this.originalEvent[t]()}}),t&&(I.Event=K);var Q=K.addProp=function(t,e){a(W,t,{enumerable:!0,configurable:!0,get:d(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){return this[t]},set:function(){this[t]=value}})},X=/^key/,Y=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;Q("which",function(t){var e;return null==t.which&&X.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==(e=t.button)&&Y.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which});var tt=U(!0,{add:function(t,e,n,r,i,a){for(var o,u,f,s,c=t.$data("events",{},!0),l=e.length,h=r.guid||(r.guid=I.guid);l--;)(u=(o=x.exec(e[l])||[])[1])&&!1!==J("add",f=(o[2]||"").split(".").sort(),t,u,c)&&(s={elem:t,type:u,guid:h,data:a,listener:r,selector:n,options:i,namespace:f,namespaceStr:f.join("."),handle:function(){return I.EventListener.dispatch.apply(s,arguments)}},(c[u]||(c[u]=[])).push(s),i.passive?t[g](u,s.handle,{passive:!0,capture:i.capture||!1}):t[g](u,s.handle,i.capture||!1))},dispatch:function(t){var e=this.elem,n=t instanceof K?t:new K(t),r=Array.from(arguments).$set(0,n);n.delegateTarget=e,n.handleOptions=this,n.data=this.data;var i=n.type,a=this.selector;if(!a||"click"===i&&1<=n.button)n.currentTarget||(n.currentTarget=e),n.target||(n.target=e);else{for(var o=n.target;o!==e;o=o.parentNode||e)if(1===o.nodeType&&("click"!==i||!0!==o.disabled)&&o.matches(a)){e=n.currentTarget=o;break}if(n.delegateTarget===e)return}if(!1!==J("dispatch",this.namespace,e,i,n)){var u=this.listener.apply(e,r);return!1===u&&I.config.event.returnFalse&&(n.preventDefault(),n.stopPropagation()),u}},remove:function t(e,n,r,i){if(e.$hasData("events")){n=(n||"").match(b)||[""];for(var a,o,u,f,s,c,l=e.$data("events"),h=n.length;h--;)if(o=(a=x.exec(n[h])||[])[1]){for(u=(a[2]||"").split(".").sort().join("."),s=(f=l[o]||[]).length,a=a[2]&&new RegExp("^"+u+"$");s--;)c=f[s],r&&r.guid!==c.guid||a&&!a.test(c.namespaceStr)||(i?"**"===i||"*"===i&&c.selector||i===c.selector:!c.selector)&&(e[$](o,c.handle),f.splice(s,1));0===f.length&&delete l[o]}else for(o in l)t(e,o+n[h],r,i)}},emit:function(t,e,n){if(t.$hasData("events")){e=(e||"").match(b)||[""];for(var r,i,a,o,u,f,s=t.$data("events"),c=e.length;c--;)if(i=(r=x.exec(e[c])||[])[1])for(a=(r[2]||"").split(".").sort().join(),u=(o=s[i]||[]).length,r=r[2]&&new RegExp("^"+a+"$");u--;)f=o[u],r&&!r.test(f.namespaceStr)||f.selector||f.handle.apply(null,n.$unshift(i))}},namespaceHandler:J});t&&(I.EventListener=tt);var et=!1;try{var nt=a({},"passive",{get:function(){et=!0}});window[v]("test",null,nt)}catch(t){}function rt(e,t,n,r,i){var a,o;if(l(t)?(a=t,j(n)?i=r:(i=n,n=r)):l(n)&&(a=n,n=t,i=r),a){for(var u in a)rt(e,u,a[u],n,i);return e}if(!t)return e;if(null==(t=t.match(b))||0===t.length)return e;if(!j(n)){var f=[n,r];r=f[0],j(n=f[1])||(i||(i=n),n=void 0)}if(null==r)return e;if(F(r)&&(r=r?G:z),!r)return e;if(F(i)&&(i={capture:i}),(i=i||{}).data&&(o=i.data,delete i.data),Object.keys(i).forEach(function(t){i[t]?i[t]=!0:delete i[t]}),!0===this||"one"in i||"once"in i){var s=r;(r=function(t){return e.$off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=I.guid),delete i.one,delete i.once}return"passive"in i&&!et&&delete i.passive,tt.add(e,t,n,r,i,o),e}function it(t,e,n,r){return rt.call(!0,this,t,e,n,r)}t&&s(C,{$on:function(t,e,n,r){return rt(this,t,e,n,r)},$one:it,$once:it,$off:function t(e,n,r){var i;if(e&&e.delegateTarget&&(i=e.handleOptions))return t.call(e.delegateTarget,i.namespace?i.type+"."+i.namespace.join("."):i.type,i.listener,i.selector),this;if(l(e)){for(var a in e)t.call(this,a,n,e[a]);return this}if("*"===e||"**"===e)n=e,e=r=void 0;else{if(!j(n)){var o=[n,r];r=o[0],n=o[1]}F(r)&&(r=r?G:z)}return I.EventListener.remove(this,e,r,n),this},$emit:function(t){var e=n(arguments,1);return I.EventListener.emit(this,t,e),this}}),s(Math,"$mean",function(){return Array.from(arguments).reduce(function(t,e){return t+e})/arguments.length});var at=Math.random,ot=Math.floor;function ut(t){var e=h(t,0,9),n=h(t,1,0);return n<e?[n,e]:[e,n]}function ft(t,e){return ot(at()*(e-t+1)+t)}function st(){var t=ut(arguments);return ft(t[0],t[1])}s(Math,"$random",st);var ct=Math.abs;function lt(t){return"[object Number]"===D.call(t)}s(Math,"$randomPlus",function(){var t=ut(arguments),e=t[0],n=t[1];return 0<e?ft(e,n):n<(t=ft(0,n+ct(e)))?n-t:t}),s(Number,"$isNumber",function(t){return!(!lt(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),s(N,"$delete",function(){var e=this;return Array.from(arguments).$each(function(t){delete e[t]}),this}),s(N,"$deleteValue",function(t){var e,n=h(arguments,1,!0)?i:p;for(e in this)n(this[e],t)&&delete this[e];return this}),s(Object,"$each",function(t,e){if(null==t)return t;var n,r;for(n in t)if(r=t[n],!1===e.call(r,n,r,t))break;return t});var ht=Object.keys,dt=JSON.stringify;function pt(t,e,n,r){var i;if(l(e)){for(i in e)pt(t,i,e[i],r);return e}return o(t,e,{get:n},r||f),n}function vt(){return this}s(Object,"$equals",function t(e,n,r){var i,a,o,u,f,s;if(e===n)return!0;if(!e||r&&r===e)return!1;if(D.call(e)!==D.call(n))return!1;if("object"!=(s=typeof e)&&"function"!==s)return!1;if(q(e)||(u=c(e)))if(u){if(e.length!==n.length)return!1;for(i=0,a=e.length;i<a;i++)if(!t(e[i],n[i],e))return!1}else{if(ht(e).length!==ht(n).length)return!1;for(o in e)if(!t(e[o],n[o],e))return!1}else if(d(e.toString)&&!(f=e.toString()).startsWith("[object ")){if(n.toString()!==f)return!1}else try{if(dt(e)!==dt(n))return!1}catch(t){return!1}return!0}),s(N,"$get",function(t){return this[t]}),s(N,"$self",vt),pt(N,"__self__",vt);var gt=String.fromCharCode;function mt(){var t=h(arguments,0,!1);return gt(t?st(65,90):st(97,122))}function $t(t){return"[object RegExp]"===D.call(t)}s(String,"$random",mt);var yt=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,Et=String.prototype;s(Et,"$replaceAll",function(t,e){var n="g";if($t(t)){if(t.global)return this.replace(t,e);n+=t.flags||"",t=t.source}else t=t.replace(yt,"\\$1");return this.replace(new RegExp(t,n),e)}),s(String,"$someRandom",function(){for(var t="",e=h(arguments,0,12),n=h(arguments,1,!1),r=h(arguments,2,!1);0<e--;)t+=mt();return n&&(t=t.split("").map(function(t){return st(1)?t.toUpperCase():t}).join("")),r&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return st(1)?st():t}).join("")),t}),s(Et,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var bt=/\+/g;function wt(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t&&s(window,"$querystring",{stringify:function(e){var t=h(arguments,1,"&"),n=h(arguments,2,"=");return l(e)?Object.keys(e).map(function(t){return encodeURIComponent(wt(t))+n+encodeURIComponent(wt(e[t]))}).join(t):""},parse:function(t){var e=h(arguments,1,"&"),n=h(arguments,2,"="),r={};if(!j(t))return r;for(var i,a,o,u,f=0,s=t.split(e),c=s.length;f<c;f++)-1<(u=(o=s[f].replace(bt,"%20")).indexOf(n))?(i=o.substr(0,u),a=o.substr(u+1)):i=o,i=decodeURIComponent(i),a=decodeURIComponent(a),r[i]=a;return r}}),t&&s(window,"$ready",function(n,r){var i=this||window;if("complete"===i.document.readyState)return n.apply(i,r);i[v]("load",function t(e){i.removeEventListener(e.type,t),n.apply(i,r)})}),t&&s(window,"$typeof",function(t){var e;return null==t?t+"":"object"==(e=typeof t)&&c(t)?"array":e});var jt,St=U(!0);t&&a(St,"event",{get:function(){return jt},set:function(t){if(!F(t)||jt===t)return!1;(jt=t)?_?(s(C,v,C.$on),s(C,m,C.$off)):C.forEach(function(t){s(t,v,t.$on),s(t,m,t.$off)}):_?(s(C,v,C[g]),s(C,m,C[$])):C.forEach(function(t){s(t,v,t[g]),s(t,m,t[$])})},enumerable:!0});var Ot=U(!0,{returnFalse:!1}),_t=I.config=U(!0);_t.inject=St,ht(St).forEach(function(t){St[t]=!0}),_t.event=Ot;var Ct=1;a(I,"guid",{get:function(){return Ct++}});var At=I.util=U(!0);At.is=U(!0,{equals:p,congruence:i}),At.types=U(!0,{isArray:c,isBoolean:F,isFunction:d,isNumber:lt,isObject:l,isRegExp:$t,isString:j}),At.parameters=U(!0,{default:h,rest:n}),At.fn=U(!0,{define:o,defineGet:pt,defineValue:s,returnTrue:G,returnFalse:z}),At.supports=U(!0,{passiveEvent:et,EventTarget:_})});