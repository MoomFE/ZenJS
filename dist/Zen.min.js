/*!
 * Zen.js v2.1.0-bata
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var c=Array.isArray,o=Object.defineProperty;function s(t){return null!==t&&"object"==typeof t}function u(t,e,n,r){var i;if(null!=t)if(c(t)&&t instanceof Array)t.forEach(function(t){return u(t,e,n,r)});else if(s(e))for(i in e)u(t,i,e[i],n);else o(t,e,Object.assign({},n,r))}var a={configurable:!0,enumerable:!1,writable:!0},f={configurable:!0,enumerable:!1};function l(t,e,n,r){var i;if(s(e)){for(i in e)l(t,i,e[i],r);return e}return u(t,e,{value:n},r||a),n}var e=Array.prototype;function h(t,e,n){var r;return t.length>e&&void 0!==(r=t[e])?r:n}function i(t){var e=h(arguments,1,0),n=t.length;return e<n?Array.from(t).$get(e,n):[]}function p(t){return"function"==typeof t}function v(t,e){return t===e}function d(t,e){return t==e}l(e,"$get",function(){var t=h(arguments,0,0),e=arguments[1];return null==e?this[t]:this.slice(t,e+t)}),l(e,"$add",function(t){for(var e=0,n=i(arguments,1),r=n.length;e<r;e++)this.splice(t++,0,n[e]);return this}),l(Array,"$create",function(t,e){var n=0,r=[];for(t>>=0;n<t;n++)r.push(e&&p(e)?e(n):e);return r}),l(e,"$delete",function(t){var e=h(arguments,1,1);return this.splice(t,e),this}),l(e,"$deleteValue",function(t){for(var e=h(arguments,1,!0)?v:d,n=0,r=this.length;n<r;)e(this[n],t)?(this.$delete(n),r--):n++;return this}),l(e,"$each",function(t){for(var e,n=0,r=this.length;n<r&&(e=this[n],!1!==t.call(e,e,n,this));n++);return this}),l(e,"$equals",function(t){if(!t)return!1;var e=0,n=this.length;if(n!==t.length)return!1;for(var r=h(arguments,1,!0)?v:d;e<n;e++)if(!r(this[e],t[e]))return!1;return!0}),"push_unshift_pop_shift".split("_").forEach(function(t){l(e,"$"+t,function(){return this[t].apply(this,arguments),this})}),l(e,"$inArray",function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return!0;return!1});var g="addEventListener",y="__ZENJS_EVENT_ADD__",n="removeEventListener",m="__ZENJS_EVENT_REMOVE__",t="undefined"!=typeof window;t&&l(document,"$ready",function(n,r){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return n.apply(window,r);this[g]("DOMContentLoaded",function t(e){this.removeEventListener(e.type,t),n.apply(window,r)})});var $=t?Element.prototype:void 0;function b(t){return"string"==typeof t}function E(t,e,n,r){if(null==t||0===t.length)return t;if(null==e)return t.nodeType?r?t:t[n]:t;var i=b(e);if(t.nodeType){if(r&&(i?t.$is(e):e(t)))return t;if(i)for(;(t=t[n])&&!t.$is(e););else for(;(t=t[n])&&!e(t););return t}return t.filter(i?function(t){return t.$is(e)}:e)}function r(t){for(var e in t)return!1;return!0}t&&l($,{$is:function(t){return t.nodeType?this===t:!!b(t)&&this.matches(t)},$not:function(t){return!this.$is(t)}}),t&&[["$next","nextElementSibling"],["$prev","previousElementSibling"]].forEach(function(t){var e=t[0],n=t[1],r={};r[e]=function(t){return E(this,t,n)},r[e+"All"]=function(t){return E(function(t,e){for(var n=[];t=t[e];)n.push(t);return n}(this,n),t)},l($,r)}),t&&l($,{$parent:function(t,e){return E(this.parentElement,t,null,!0)},$parents:function(t,e){return E(this,t,"parentElement",e)}}),t&&[document,$].forEach(function(t){l(t,"$query",t.querySelectorAll),l(t,"$queryFirst",t.querySelector)}),l(Object,"$isEmptyObject",r);var w=t&&"EventTarget"in window,j=w?window.EventTarget.prototype:t?[window,document,$]:void 0;w?(l(j,y,j[g]),l(j,m,j[n])):j&&j.forEach(function(t){l(t,y,t[g]),l(t,m,t[n])});var O="__ZENJS_DATA__";function S(t){return t[O]||(l(t,O,{}),t[O])}t&&(l(j,"$data",function t(e,n,r){var i=this||window,o=S(i);if(s(e)){for(var u in e)t.call(i,u,e[u],n);return i}return arguments.length<2||r?null==e?o:!r||e in o?o[e]:o[e]=n:(o[e]=n,i)}),l(j,"$hasData",function(t){var e=S(this||window);return!r(e)&&(null==t||t in e)}),l(j,"$deleteData",function(t){var e=this||window;if(null==t)return e[O]={},e;var n=S(e);return t.split(" ").forEach(function(t){delete n[t]}),e}));var _=/^([^.]*)(?:\.(.+)|)/,A=Object.prototype,T=A.toString,x=Object.getPrototypeOf,C=Object.hasOwnProperty,N=C.toString,D=N.call(Object);function P(t){if(!t||"[object Object]"!==T.call(t))return!1;var e=x(t);if(!e)return!0;var n=C.call(e,"constructor")&&e.constructor;return p(n)&&N.call(n)===D}function R(){for(var t,e,n,r,i,o,u=1,a=arguments.length,f=arguments[0]||{};u<a;u++)if(null!=(t=arguments[u]))for(e in t)(r=t[e])!==f&&(n=f[e],r&&(P(r)||(i=c(r)))?(i?(i=!1,o=n&&c(n)?n:[]):o=n&&P(n)?n:{},f[e]=R(o,r)):void 0!==r&&(f[e]=r));return f}l(Object,"$isPlainObject",P),l(Object,"$assign",R);var k=Object.create;function L(t){return"boolean"==typeof t}function q(t){var e=i(arguments,1);return L(t)||!t?e.unshift(t?k(null):{}):e.unshift({},t),R.apply(null,e)}l(Object,"$create",q);var M=q(!0,{version:"2.1.0-bata"});function F(){return!1}function V(){return!0}function U(t,e){if(this instanceof M.Event==!1)return new M.Event(t,e);if(t&&t.type)for(var n in this.originalEvent=t,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?V:F,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,t)n in this||(this[n]=t[n]);else this.type=t;e&&R(this,e),this.timeStamp=t&&t.timeStamp||Date.now()}t&&(window.Zen=window.ZenJS=M),l(A,"$set",function(t,e){var n;if(s(t))for(n in t)this[n]=t[n];else this[t]=e;return this});var I=U.prototype={constructor:U};["preventDefault","stopPropagation","stopImmediatePropagation"].forEach(function(t){I[t]=function(){this.originalEvent&&this.originalEvent[t]()}}),t&&(M.Event=U);var J=U.addProp=function(t,e){o(I,t,{enumerable:!0,configurable:!0,get:p(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){return this[t]},set:function(){this[t]=value}})},Z=/^key/,z=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;J("which",function(t){var e;return null==t.which&&Z.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==(e=t.button)&&z.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which});var B=/[^\x20\t\r\n\f]+/g;var G=q(!0,{add:function(t,e,n,r,i){for(var o,u,a,f,s=t.$data("events",{},!0),c=e.length,l=r.guid||(r.guid=M.guid);c--;)(u=(o=_.exec(e[c])||[])[1])&&(a=(o[2]||"").split(".").sort(),f={elem:t,type:u,guid:l,listener:r,selector:n,options:i,namespace:a,namespaceStr:a.join("."),handle:function(){return M.EventListener.dispatch.apply(f,arguments)}},(s[u]||(s[u]=[])).push(f),i.passive?t[y](u,f.handle,{passive:!0,capture:i.capture||!1}):t[y](u,f.handle,i.capture||!1))},dispatch:function(t){var e=this.elem,n=t instanceof U?t:new U(t),r=Array.from(arguments).$set(0,n);n.delegateTarget=e,n.handleOptions=this;var i=n.type,o=this.selector;if(this.needsContext,o&&!("click"===i&&1<=n.button)){for(var u=n.target;u!==e;u=u.parentNode||e)if(1===u.nodeType&&("click"!==i||!0!==u.disabled)&&u.matches(o)){e=n.currentTarget=u;break}if(n.delegateTarget===e)return}var a=this.listener.apply(e,r);return!1===a&&M.config.event.returnFalse&&(n.preventDefault(),n.stopPropagation()),a},remove:function t(e,n,r,i){if(e.$hasData("events")){n=(n||"").match(B)||[""];for(var o,u,a,f,s,c,l=e.$data("events"),h=n.length;h--;)if(u=(o=_.exec(n[h])||[])[1]){for(a=(o[2]||"").split(".").sort().join("."),s=(f=l[u]||[]).length,o=o[2]&&new RegExp("^"+a+"$");s--;)c=f[s],r&&r.guid!==c.guid||o&&!o.test(c.namespaceStr)||(i?"**"===i||"*"===i&&c.selector||i===c.selector:!c.selector)&&(e[m](u,c.handle),f.splice(s,1));0===f.length&&delete l[u]}else for(u in l)t(e,u+n[h],r,i)}},emit:function(t,e){if(t.$hasData("events")){e=(e||"").match(B)||[""];for(var n,r,i,o,u,a,f=t.$data("events"),s=e.length;s--;)if(r=(n=_.exec(e[s])||[])[1])for(i=(n[2]||"").split(".").sort().join(),u=(o=f[r]||[]).length,n=n[2]&&new RegExp("^"+i+"$");u--;)a=o[u],n&&!n.test(a.namespaceStr)||a.selector||a.handle(r)}}});t&&(M.EventListener=G);var W=!1;try{var H=o({},"passive",{get:function(){W=!0}});window[g]("test",null,H)}catch(t){}function K(e,t,n,r,i){var o;if(s(t)?(o=t,b(n)?i=r:(i=n,n=r)):s(n)&&(o=n,n=t,i=r),o){for(var u in o)K(e,u,o[u],n,i);return e}if(!t)return e;if(null==(t=t.match(B))||0===t.length)return e;if(!b(n)){var a=[n,r];r=a[0],b(n=a[1])||(i||(i=n),n=void 0)}if(null==r)return e;if(L(r)&&(r=r?V:F),!r)return e;if(L(i)&&(i={capture:i}),i=i||{},Object.keys(i).forEach(function(t){i[t]?i[t]=!0:delete i[t]}),!0===this||"one"in i||"once"in i){var f=r;(r=function(t){return e.$off(t),f.apply(this,arguments)}).guid=f.guid||(f.guid=M.guid),delete i.one,delete i.once}return"passive"in i&&!W&&delete i.passive,G.add(e,t,n,r,i),e}function Q(t,e,n,r){return K.call(!0,this,t,e,n,r)}t&&l(j,{$on:function(t,e,n,r){return K(this,t,e,n,r)},$one:Q,$once:Q,$off:function t(e,n,r){var i;if(e&&e.delegateTarget&&(i=e.handleOptions))return t.call(e.delegateTarget,i.namespace?i.type+"."+i.namespace.join("."):i.type,i.listener,i.selector),this;if(s(e)){for(var o in e)t.call(this,o,n,e[o]);return this}if("*"===e||"**"===e)n=e,e=r=void 0;else{if(!b(n)){var u=[n,r];r=u[0],n=u[1]}L(r)&&(r=r?V:F)}return M.EventListener.remove(this,e,r,n),this},$emit:function(t){return M.EventListener.emit(this,t),this}}),l(Math,"$mean",function(){return Array.from(arguments).reduce(function(t,e){return t+e})/arguments.length});var X=Math.random,Y=Math.floor;function tt(t){var e=h(t,0,9),n=h(t,1,0);return n<e?[n,e]:[e,n]}function et(t,e){return Y(X()*(e-t+1)+t)}function nt(){var t=tt(arguments);return et(t[0],t[1])}l(Math,"$random",nt);var rt=Math.abs;function it(t){return"[object Number]"===T.call(t)}l(Math,"$randomPlus",function(){var t=tt(arguments),e=t[0],n=t[1];return 0<e?et(e,n):n<(t=et(0,n+rt(e)))?n-t:t}),l(Number,"$isNumber",function(t){return!(!it(t)&&"string"!=typeof t||isNaN(t-parseFloat(t)))}),l(A,"$delete",function(){var e=this;return Array.from(arguments).$each(function(t){delete e[t]}),this}),l(A,"$deleteValue",function(t){var e,n=h(arguments,1,!0)?v:d;for(e in this)n(this[e],t)&&delete this[e];return this}),l(Object,"$each",function(t,e){var n,r;for(n in t)if(r=t[n],!1===e.call(r,n,r,t))break;return t});var ot=Object.keys,ut=JSON.stringify;function at(t,e,n,r){var i;if(s(e)){for(i in e)at(t,i,e[i],r);return e}return u(t,e,{get:n},r||f),n}function ft(){return this}l(Object,"$equals",function t(e,n,r){var i,o,u,a,f,s;if(e===n)return!0;if(!e||r&&r===e)return!1;if(T.call(e)!==T.call(n))return!1;if("object"!=(s=typeof e)&&"function"!==s)return!1;if(P(e)||(a=c(e)))if(a){if(e.length!==n.length)return!1;for(i=0,o=e.length;i<o;i++)if(!t(e[i],n[i],e))return!1}else{if(ot(e).length!==ot(n).length)return!1;for(u in e)if(!t(e[u],n[u],e))return!1}else if(p(e.toString)&&!(f=e.toString()).startsWith("[object ")){if(n.toString()!==f)return!1}else try{if(ut(e)!==ut(n))return!1}catch(t){return!1}return!0}),l(A,"$get",function(t){return this[t]}),l(A,"$self",ft),at(A,"__self__",ft);var st=String.fromCharCode;function ct(){var t=h(arguments,0,!1);return st(t?nt(65,90):nt(97,122))}function lt(t){return"[object RegExp]"===T.call(t)}l(String,"$random",ct);var ht=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,pt=String.prototype;l(pt,"$replaceAll",function(t,e){var n="g";if(lt(t)){if(t.global)return this.replace(t,e);n+=t.flags||"",t=t.source}else t=t.replace(ht,"\\$1");return this.replace(new RegExp(t,n),e)}),l(String,"$someRandom",function(){for(var t="",e=h(arguments,0,12),n=h(arguments,1,!1),r=h(arguments,2,!1);0<e--;)t+=ct();return n&&(t=t.split("").map(function(t){return nt(1)?t.toUpperCase():t}).join("")),r&&(t=(t[0]||"")+t.slice(1).split("").map(function(t){return nt(1)?nt():t}).join("")),t}),l(pt,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var vt=/\+/g;function dt(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t&&l(window,"$querystring",{stringify:function(e){var t=h(arguments,1,"&"),n=h(arguments,2,"=");return s(e)?Object.keys(e).map(function(t){return encodeURIComponent(dt(t))+n+encodeURIComponent(dt(e[t]))}).join(t):""},parse:function(t){var e=h(arguments,1,"&"),n=h(arguments,2,"="),r={};if(!b(t))return r;for(var i,o,u,a,f=0,s=t.split(e),c=s.length;f<c;f++)-1<(a=(u=s[f].replace(vt,"%20")).indexOf(n))?(i=u.substr(0,a),o=u.substr(a+1)):i=u,i=decodeURIComponent(i),o=decodeURIComponent(o),r[i]=o;return r}}),t&&l(window,"$ready",function(n,r){var i=this||window;if("complete"===i.document.readyState)return n.apply(i,r);i[g]("load",function t(e){i.removeEventListener(e.type,t),n.apply(i,r)})}),t&&l(window,"$typeof",function(t){var e;return null==t?t+"":"object"==(e=typeof t)&&c(t)?"array":e});var gt,yt=q(!0);t&&o(yt,"event",{get:function(){return gt},set:function(t){if(!L(t)||gt===t)return!1;(gt=t)?w?(l(j,g,j.$on),l(j,n,j.$off)):j.forEach(function(t){l(t,g,t.$on),l(t,n,t.$off)}):w?(l(j,g,j[y]),l(j,n,j[m])):j.forEach(function(t){l(t,g,t[y]),l(t,n,t[m])})},enumerable:!0});var mt=q(!0,{returnFalse:!1}),$t=M.config=q(!0);$t.inject=yt,ot(yt).forEach(function(t){yt[t]=!0}),$t.event=mt;var bt=1;o(M,"guid",{get:function(){return bt++}});var Et=M.util=q(!0);Et.is=q(!0,{equals:d,congruence:v}),Et.types=q(!0,{isArray:c,isBoolean:L,isFunction:p,isNumber:it,isObject:s,isRegExp:lt,isString:b}),Et.parameters=q(!0,{default:h,rest:i}),Et.fn=q(!0,{define:u,defineGet:at,defineValue:l,returnTrue:V,returnFalse:F}),Et.supports=q(!0,{passiveEvent:W,EventTarget:w})});