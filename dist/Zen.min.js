/*!
 * Zen.js v1.0.0
 * (c) 2018 Zhang_Wei
 * Released under the MIT License.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var c=Array.isArray,i=Object.defineProperty;function a(t,e,n,r){c(t)&&t instanceof Array?t.forEach(function(t){a(t,e,n,r)}):i(t,e,Object.assign({},n,r))}var o={configurable:!0,enumerable:!1,writable:!0},t={configurable:!0,enumerable:!1};function e(t,e,n,r){return a(t,e,{value:n},r||o),n}var n=Array.prototype;function l(t,e,n){var r;return t.length>e&&void 0!==(r=t[e])?r:n}function u(t,e){var n=t.length;return e<n?Array.from(t).$get(e,n):[]}function s(t){return"function"==typeof t}function f(t,e){return t===e}function p(t,e){return t==e}e(n,"$get",function(){var t=l(arguments,0,0),e=arguments[1];return null==e?this[t]:this.slice(t,e)}),e(n,"$add",function(t){for(var e=0,n=u(arguments,1),r=n.length;e<r;e++)this.splice(t++,0,n[e]);return this}),e(Array,"$create",function(t,e){var n=0,r=[];for(t>>=0;n<t;n++)r.push(e&&s(e)?e(n):e);return r}),e(n,"$delete",function(t){var e=l(arguments,1,1);return this.splice(t,e),this}),e(n,"$deleteValue",function(t){for(var e=l(arguments,1,!0)?f:p,n=0,r=this.length;n<r;)e(this[n],t)?(this.$delete(n),r--):n++;return this}),e(n,"$each",function(t){for(var e,n=0,r=this.length;n<r&&(e=this[n],!1!==t.call(e,e,n,this));n++);return this}),e(n,"$inArray",function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return!0;return!1}),"push_unshift_pop_shift".split("_").forEach(function(t){e(n,"$"+t,function(){return this[t].apply(this,arguments),this})}),e(document,"$ready",function(n,r){if("complete"===this.readyState||"loading"!==this.readyState&&!this.documentElement.doScroll)return n.apply(window,r);this.addEventListener("DOMContentLoaded",function t(e){this.removeEventListener(e.type,t),n.apply(window,r)})}),e(Math,"$mean",function(){return Array.from(arguments).reduce(function(t,e){return t+e})/arguments.length});var h=Math.random,r=Math.floor;function d(t){var e=l(t,0,9),n=l(t,1,0);return n<e?[n,e]:[e,n]}function v(t,e){return r(h()*(e-t+1)+t)}function g(){var t=d(arguments);return v(t[0],t[1])}e(Math,"$random",g);var y=Math.abs;e(Math,"$randomPlus",function(){var t=d(arguments),e=t[0],n=t[1];return 0<e?v(e,n):n<(t=v(0,n+y(e)))?n-t:t});var m=Object.prototype,b=m.toString;e(Number,"$isNumber",function(t){return e=t,!("[object Number]"!==b.call(e)&&"string"!=typeof t||isNaN(t-parseFloat(t)));var e});var $=Object.getPrototypeOf,j=Object.hasOwnProperty,E=j.toString,O=E.call(Object);function w(t){if(!t||"[object Object]"!==b.call(t))return!1;var e=$(t);if(!e)return!0;var n=j.call(e,"constructor")&&e.constructor;return s(n)&&E.call(n)===O}function P(){for(var t,e,n,r,i,a,o=1,u=arguments.length,s=arguments[0]||{};o<u;o++)if(null!=(t=arguments[o]))for(e in t)(r=t[e])!==s&&(n=s[e],r&&(w(r)||(i=c(r)))?(i?(i=!1,a=n&&c(n)?n:[]):a=n&&w(n)?n:{},s[e]=P(a,r)):void 0!==r&&(s[e]=r));return s}e(Object,"$isPlainObject",w),e(Object,"$assign",P);var S,C=Object.create;function T(t){var e=u(arguments,1);return"boolean"!=typeof t&&t?e.unshift({},t):e.unshift(t?C(null):{}),P.apply(null,e)}function A(){return this}function L(t){return null!==t&&"object"==typeof t}e(Object,"$create",T),e(m,"$delete",function(){var e=this;return Array.from(arguments).$each(function(t){delete e[t]}),this}),e(m,"$deleteValue",function(t){var e,n=l(arguments,1,!0)?f:p;for(e in this)n(this[e],t)&&delete this[e];return this}),e(Object,"$each",function(t,e){var n,r;for(n in t)if(r=t[n],!1===e.call(r,n,r,t))break;return t}),e(m,"$get",function(t){return this[t]}),e(Object,"$isEmptyObject",function(t){for(var e in t)return!1;return!0}),e(m,"$self",A),a(m,"__self__",{get:A},S||t),e(m,"$set",function(t,e){var n;if(L(t))for(n in t)this[n]=t[n];else this[t]=e;return this});var I=String.fromCharCode;function _(){var t=l(arguments,0,!1);return I(t?g(65,90):g(97,122))}e(String,"$random",_);var k=/([\.\*\+\?\|\(\)\[\]\{\}\^\$])/g,D=String.prototype;e(D,"$replaceAll",function(t,e){var n,r="g";if(n=t,"[object RegExp]"===b.call(n)){if(t.global)return this.replace(t,e);r+=t.flags||"",t=t.source}else t=t.replace(k,"\\$1");return this.replace(new RegExp(t,r),e)}),e(String,"$someRandom",function(){for(var t="",e=l(arguments,0,12),n=l(arguments,1,!1),r=l(arguments,2,!1);0<e--;)t+=_();return n&&(t=t.split("").map(function(t){return g(1)?t.toUpperCase():t}).join()),r&&(t=t.split("").map(function(t){return g(1)?h():t}).$set(0,_(g(1))).join()),t}),e(D,"$toCapitalize",function(){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase()});var M=/\+/g;function N(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e(window,"$querystring",{stringify:function(e){var t=l(arguments,1,"&"),n=l(arguments,2,"=");return L(e)?Object.keys(e).map(function(t){return encodeURIComponent(N(t))+n+encodeURIComponent(N(e[t]))}).join(t):""},parse:function(t){var e=l(arguments,1,"&"),n=l(arguments,2,"="),r={};if("string"!=typeof t)return r;for(var i,a,o,u=0,s="",c=t.split(e),f=c.length;u<f;u++)-1<(s=(o=c[u].replace(M,"%20")).indexOf(n))?(i=o.substr(0,s),a=o.substr(s+1)):i=o,i=decodeURIComponent(i),a=decodeURIComponent(a),r[i]=a;return r}}),e(window,"$ready",function(n,r){if("complete"===this.document.readyState)return n.apply(this,r);this.addEventListener("load",function t(e){this.removeEventListener(e.type,t),n.apply(this,r)})}),e(window,"$typeof",function(t){var e;return null==t?t+"":"object"==(e=typeof t)&&c(t)?"array":e});var R=window.Zen=T(!0,{version:"1.0.0"});function x(){return!1}function U(){return!0}var K=Object.assign;function X(t,e){if(this instanceof R.Event==!1)return new R.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?U:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&P(this,e),this.timeStamp=t&&t.timeStamp||Date.now()}R.Event=X;var Y=R.Event.prototype={constructor:R.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1};[["preventDefault","isDefaultPrevented"],["stopPropagation","isPropagationStopped"],["stopImmediatePropagation","isImmediatePropagationStopped"]].forEach(function(t){var e=t[0],n=t[1];Y[e]=function(){var t;Y[n]()||(Y[n]=U,!Y.isSimulated&&(t=Y.originalEvent)&&t[e]())}}),["altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","charCode","key","keyCode","button","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches"].forEach(function(e){i(Y,e,K({},t,{get:function(){var t=this.originalEvent;if(t)return t[e]},set:function(t){this.$set(e,t)}}))});var V=/^([^.]*)(?:\.(.+)|)/;R.EventListener={add:function(t,e,n,r,i){for(var a,o,u,s=t.$data("events",{},!0),c=e.length;c--;)(o=(a=V.exec(e[c])||[""])[1])&&(u={elem:t,type:o,listener:r,selector:n,options:i,namespace:(a[2]||"").split(".").sort(),handle:function(){return R.EventListener.dispatch.apply(u,arguments)}},(s[o]||(s[o]=[])).push(u),i.passive?t.addEventListener(o,u.handle,i):t.addEventListener(o,u.handle,i.capture||!1))},dispatch:function(t){var e=this.elem,n=t instanceof X?t:new X(t),r=Array.from(arguments).$set(0,n);n.delegateTarget=e,n.handleOptions=this;var i=n.type,a=this.selector;if(this.needsContext,a&&!("click"===i&&1<=n.button)){for(var o=n.target;o!==e;o=o.parentNode||e)if(1===o.nodeType&&("click"!==i||!0!==o.disabled)&&o.matches(a)){e=n.currentTarget=o;break}if(n.delegateTarget===e)return}var u=this.listener.apply(e,r);return!1===u&&(n.preventDefault(),n.stopPropagation()),u}};var F=1;i(R,"guid",{get:function(){return F++}})});